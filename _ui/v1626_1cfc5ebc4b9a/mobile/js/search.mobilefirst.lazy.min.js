"use strict";var A=A||{};A.editorialSuggestions=A.editorialSuggestions||{},A.editorialSuggestions.handleMatching=function(t,e){var i=t.filter(function(t){return e.products.indexOf(t.dataset.code)!==-1}),n=A.editorialSuggestions.suggestionBuilder(e);i.forEach(function(t){var e=t.nextElementSibling;null!=e?t.parentElement.insertBefore(n.cloneNode(!0),t.nextElementSibling):t.parentElement.appendChild(n.cloneNode(!0))})},A.editorialSuggestions.suggestionBuilder=function(t){var e=A.utils.createElement("article",{"class":"product-boostSuggestion--container"});if(null!=t.images&&t.images.length>0){var i="";t.images.forEach(function(t){i.length>0&&(i+=", "),i+=t.url+" "+t.size+"w"});var n=A.utils.createElement("img",{sizes:"50vw",alt:t.label,src:t.images[t.images.length-1].url,srcset:i})}if(""!==t.url){var a=A.utils.createElement("a",{href:t.url,title:t.label});a.appendChild(n),e.appendChild(a)}else e.appendChild(n);return e},A.editorialSuggestions.fillAllHoles=function(){var t=A.editorialSuggestions.config.suggestions.filter(function(t){return"random"==t.type}),e=[].slice.call(A.utils.qsAll(".product-list--subContainer"));0==e.length&&(e=[].slice.call(A.utils.qsAll(".product-list--container"))),e.forEach(function(e){var i=[].slice.call(A.utils.qsAll("article",{cache:!1,parent:e})),n=-1,a=i.filter(function(t,e){if(t.classList.contains("bomb")){if((e-n)%2==0)return!0;n=e}});a.forEach(function(e){var i=A.editorialSuggestions.suggestionBuilder(t[Math.floor(Math.random()*t.length)]);e.parentElement.insertBefore(i.cloneNode(!0),e.previousElementSibling)})})},A.editorialSuggestions.init=function(){if("undefined"!=typeof A.editorialSuggestions.config&&"undefined"!=typeof A.editorialSuggestions.config.suggestions){var t=[].slice.call(A.utils.qsAll("article[data-code]"));A.editorialSuggestions.config.suggestions.forEach(function(e){A.editorialSuggestions.handleMatching(t,e)}),A.editorialSuggestions.fillAllHoles()}document.dispatchEvent(new CustomEvent("editorialSuggestionsInitialized"))},A.module.add(["DOMContentLoaded","visibilityInitialized"],A.editorialSuggestions.init);var A=A||{};A.facets=A.facets||{},A.facets.keyMap={KEY_ENTER:13},A.facets.updateFacetLayer=function(t){var e=A.utils.qs("#layer__filter");null!=e&&(e.innerHTML=t)},A.facets.handleFacetSelectionChange=function(t){A.utils.get({url:t.matchingTarget.getAttribute("value"),success:A.facets.updateFacetLayer,loader:!0})},A.facets.handleRemoveFacetLinkClick=function(t){t.preventDefault(),t.stopPropagation(),A.utils.get({url:t.matchingTarget.getAttribute("href"),success:A.facets.updateFacetLayer,loader:!0})},A.facets.handleFacetBoxesFilterSearchUp=function(t){var e=A.utils.closest(t.matchingTarget,".form-container");null!==e&&A.utils.qsAll(".facet-box",{parent:e}).forEach(function(e){null!==e.dataset.facetTitle&&(e.dataset.facetTitle.toLowerCase().indexOf(t.matchingTarget.value.toLowerCase())!==-1?e.classList.remove("hidden"):e.classList.add("hidden"))})},A.facets.handleFacetBoxesFilterSearchDown=function(t){if(null!==t.matchingTarget&&t.keyCode===A.facets.keyMap.KEY_ENTER)return t.preventDefault(),!1},A.facets.init=function(){A.events.add(document,"keyup",A.facets.handleFacetBoxesFilterSearchUp,"input.facet-boxes--filter-search"),A.events.add(document,"keydown",A.facets.handleFacetBoxesFilterSearchDown,"input.facet-boxes--filter-search"),A.events.add(document,"change",A.facets.handleFacetSelectionChange,"#layer__filter .available_filters label input"),A.events.add(document,"click",A.facets.handleRemoveFacetLinkClick,"#layer__filter .ui-tag a"),document.dispatchEvent(new CustomEvent("facetsInitialized"))},A.module.add(["layersInitialized"],A.facets.init);var A=A||{};A.facetsShortcut=A.facetsShortcut||{},A.facetsShortcut.getUiFilterBoxOffsetTop=function(){if("undefined"==typeof A.facetsShortcut.uiFilterBoxTop){var t=A.utils.qs(".ui-filters-box");null!=t?A.facetsShortcut.uiFilterBoxTop=t.getBoundingClientRect().top+(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0)+16:A.facetsShortcut.uiFilterBoxTop=0}return A.facetsShortcut.uiFilterBoxTop},A.facetsShortcut.handleShortcutDisplayTriggerChange=function(t){t.stopPropagation();var e=A.utils.qs("#main-wrapper");null!=e&&e.classList.remove("facetShortcutOverlay"),A.utils.qsAll(".facet-shortcut.form-container input.facet-shortcut-trigger").forEach(function(e){t.matchingTarget.matches('input[type="checkbox"]')&&e==t.matchingTarget||(e.checked=!1)}),null!=e&&t.matchingTarget.matches('input[type="checkbox"]')&&t.matchingTarget.checked===!0&&e.classList.add("facetShortcutOverlay")},A.facetsShortcut.handleScroll=function(){var t=A.utils.qs(".ui-filters-box");null==t||t.classList.contains("sticky")||t.classList.add("sticky")},A.facetsShortcut.handleCancelScroll=function(){var t=A.utils.qs(".ui-filters-box");null!=t&&t.classList.contains("sticky")&&t.classList.remove("sticky")},A.facetsShortcut.handleClickPropagation=function(t){t.stopPropagation()},A.facetsShortcut.initMobileFirst=function(){A.events.add(document,"change",A.facetsShortcut.handleShortcutDisplayTriggerChange,".facet-shortcut.form-container input.facet-shortcut-trigger"),A.events.add(document,"click",A.facetsShortcut.handleClickPropagation,".facet-shortcut"),A.events.add(document,"click",A.facetsShortcut.handleShortcutDisplayTriggerChange,"#main-wrapper.facetShortcutOverlay");var t=A.utils.qs(".ui-filters-box");if(null!=t){var e=A.utils.qs(".main-header"),i=0;null!=e&&(i=e.clientHeight),A.scroll.addScrollHandler({scrollStartPosition:A.facetsShortcut.getUiFilterBoxOffsetTop()-i,handler:A.facetsShortcut.handleScroll,stopScrollHandler:A.facetsShortcut.handleCancelScroll})}document.dispatchEvent(new CustomEvent("facetsShorcutInitialized"))},A.module.add(["utilsInitialized","scrollInitialized"],A.facetsShortcut.initMobileFirst);var A=A||{};A["switch"]=A["switch"]||{},A["switch"].displayModes=[{className:"list",icon:"icon-auchan-28",next:"grid"},{className:"grid",icon:"icon-auchan-29",next:"onecolumn"},{className:"onecolumn",icon:"icon-auchan-30",next:"list"}],A["switch"].triggerTemplateSwitch=function(){var t=A["switch"].displayModes.filter(function(t){return A["switch"].listContainer.matches("."+t.className)});if(t.length){var e=t[0];A["switch"].listContainer.classList.remove(e.className),A["switch"].switchButtonIcon.classList.remove(e.icon);var i=A["switch"].displayModes.filter(function(t){return t.className===e.next});if(i.length){var e=i[0];A["switch"].listContainer.classList.add(e.className),A["switch"].switchButtonIcon.classList.add(e.icon)}}},A["switch"].init=function(){A["switch"].switchButton=document.getElementById("switchListView"),null!==A["switch"].switchButton&&(A["switch"].switchButtonIcon=A["switch"].switchButton.querySelector("span"),A["switch"].listContainer=document.querySelector(".product-list--container"),A["switch"].switchButton.addEventListener("click",function(){requestAnimationFrame(A["switch"].triggerTemplateSwitch)},!1),document.dispatchEvent(new CustomEvent("switchInitialized")))},A.module.add(["DOMContentLoaded","visibilityInitialized"],A["switch"].init);var A=A||{};A["switch"]=A["switch"]||{},A["switch"].initMobileFirst=function(){A["switch"].displayModes=[{className:"list",icon:"icon-auchan-28",next:"grid"},{className:"grid",icon:"icon-auchan-29",next:"list"}],document.dispatchEvent(new CustomEvent("mobilefirst.switchInitialized"))},A.module.add(["switchInitialized"],A["switch"].initMobileFirst);