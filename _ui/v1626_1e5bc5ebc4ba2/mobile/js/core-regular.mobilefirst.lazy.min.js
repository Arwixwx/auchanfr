"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=A||{};A.abtesting=A.abtesting||{},A.abtesting.STORAGE_KEY="ABTestingConfiguration",A.abtesting.isRandomlyAvailable=function(e){if(null!=e&&A.utils.isNumeric(e.percentageTrafficEnabled)&&!window.location.pathname.startsWith(e.path)){var t=e.percentageTrafficEnabled;return t>1&&t<=100&&(t/=100),Math.random()<t}return!1},A.abtesting.isSessionTesting=function(e){return null!=e&&(null==e.cookieMaxAge||0==e.cookieMaxAge)},A.abtesting.cleanupDisabledTests=function(e){return null!=e?e.filter(function(e){for(var t=0;t<A.abtesting.config.testConfigurations.length;t++)if(A.abtesting.config.testConfigurations[t].path==e.path)return!1;return!0}):[]},A.abtesting.cleanupUpdatedTests=function(e){return null!=e?e.filter(function(e){for(var t=0;t<A.abtesting.config.testConfigurations.length;t++)if(A.abtesting.config.testConfigurations[t].path==e.path&&(A.abtesting.config.testConfigurations[t].percentageTrafficEnabled!=e.percentageTrafficEnabled||A.abtesting.config.testConfigurations[t].isSession!=e.isSession||A.abtesting.config.testConfigurations[t].cookieMaxAge!=e.cookieMaxAge))return!1;return!0}):[]},A.abtesting.cleanupOutDatedTests=function(e){if(null!=e){var t=new Date;return e.filter(function(e){return!A.utils.isTrue(e.isSession)&&t>new Date(e.expiryDate)})}return[]},A.abtesting.resetTests=function(e,t){return null!=t&&null!=e?(t.forEach(function(e){window.location.pathname.startsWith(e.path)||A.utils.setCookie(A.abtesting.config.cookieName,"",0,e.path)}),e.filter(function(e){return t.indexOf(e)===-1||window.location.pathname.startsWith(e.path)})):[]},A.abtesting.cleanupOutOfDateTests=function(e){if(null!=e)return e=A.abtesting.resetTests(e,A.abtesting.cleanupDisabledTests(e)),e=A.abtesting.resetTests(e,A.abtesting.cleanupUpdatedTests(e)),e=A.abtesting.resetTests(e,A.abtesting.cleanupOutDatedTests(e))},A.abtesting.handleNewTests=function(e,t){return null!=e&&null!=t&&t.forEach(function(t){var a=0!=e.filter(function(e){return e.path==t.path}).length;a||(t.active=A.abtesting.isRandomlyAvailable(t),t.isSession=A.abtesting.isSessionTesting(t),t.expiryDate=t.isSession?null:new Date((new Date).getTime()+1e3*t.cookieMaxAge),e.push(t),t.active&&(document.cookie=A.abtesting.config.cookieName+"=1"+(t.isSession?"":";max-age="+t.cookieMaxAge)+";path="+t.path+";domain="+(A.configuration.cookieDomain||"")))}),e},A.abtesting.trackTests=function(e){null!=e&&A.analytics.push({event:"AB","event-action":e.name,"event-label":e.active,"event-path":e.path})},A.abtesting.init=function(){if("undefined"!=typeof A.abtesting.config&&A.storage.isAvailable(A.storage.TYPES.SESSION)&&A.storage.isAvailable(A.storage.TYPES.LOCAL)){var e=A.storage.get(A.abtesting.STORAGE_KEY,A.storage.TYPES.SESSION)||[],t=A.storage.get(A.abtesting.STORAGE_KEY,A.storage.TYPES.LOCAL)||[];e=A.abtesting.cleanupOutOfDateTests(e),t=A.abtesting.cleanupOutOfDateTests(t),e=A.abtesting.handleNewTests(e,A.abtesting.config.testConfigurations.filter(function(e){return A.abtesting.isSessionTesting(e)})),t=A.abtesting.handleNewTests(t,A.abtesting.config.testConfigurations.filter(function(e){return!A.abtesting.isSessionTesting(e)})),e.forEach(function(e){window.location.pathname.startsWith(e.path)&&A.abtesting.trackTests(e)}),t.forEach(function(e){window.location.pathname.startsWith(e.path)&&A.abtesting.trackTests(e)}),A.storage.set(A.abtesting.STORAGE_KEY,e,A.storage.TYPES.SESSION),A.storage.set(A.abtesting.STORAGE_KEY,t,A.storage.TYPES.LOCAL),document.dispatchEvent(new CustomEvent("abtestingInitialized"))}},A.module.add(["utilsInitialized","storageInitialized","analyticsInitialized"],A.abtesting.init);var A=A||{};A.analytics=A.analytics||{},A.analytics.booleanValues={"true":"yes","false":"no","null":"no"},window.dataLayer=window.dataLayer||[],A.analytics.addProperty=function(e,t){null!=e&&e.length&&null!=t&&(A.analytics.analyticsContext[e]=t)},A.analytics.getValue=function(e){if(null!=e)return e},A.analytics.addUser=function(){null!=A.context.user&&(A.analytics.addProperty("user_id",A.context.user.id),A.analytics.addProperty("user_gender",A.context.user.gender),A.analytics.addProperty("user_logged",A.analytics.booleanValues[A.utils.isTrue(A.context.authenticated)]),A.analytics.addProperty("user_identified",A.analytics.booleanValues[A.context.user.identified]),A.analytics.addProperty("user_age",A.context.user.age),A.analytics.addProperty("user_postalcode",A.context.user.postalCode),A.analytics.addProperty("user_identification",A.context.user.email),A.analytics.addProperty("user_loyalty",null!=A.context.loyaltyCards&&A.context.loyaltyCards.length>0),A.analytics.addProperty("user_loyalty_cards",A.context.loyaltyCards),A.analytics.addProperty("user_optin",A.context.newsConsents),A.analytics.addProperty("user_mail_consent",A.context.mailConsent),A.analytics.addProperty("user_email_consent",A.context.emailConsent),A.analytics.addProperty("user_phone_consent",A.context.phoneConsent),A.analytics.addProperty("user_thirdparties_consent",A.context.thirdPartiesConsent))},A.analytics.addUserTrackingManagement=function(){null!=A.context.utm&&(A.analytics.addProperty("source",A.context.utm.source),A.analytics.addProperty("support",A.context.utm.support),A.analytics.addProperty("campaign",A.context.utm.campaign),A.analytics.addProperty("keyword",A.context.utm.keyword),A.analytics.addProperty("content",A.context.utm.content))},A.analytics.addCart=function(){null!=A.context.cart&&(A.analytics.addProperty("basket_id",A.context.cart.code),null!=A.context.cart.totalPrice&&A.analytics.addProperty("basket_amount_ati",A.context.cart.totalPrice.value),A.analytics.addProperty("basket_product_number_ati",A.context.cart.totalItems),"undefined"!=typeof A.context.cart.totalLoyaltyPoints&&null!=A.context.cart.totalLoyaltyPoints&&A.analytics.addProperty("basket_cagnottable_amount",A.context.cart.totalLoyaltyPoints.value),"undefined"!=typeof A.context.cart.totalDiscounts&&null!=A.context.cart.totalDiscounts&&A.analytics.addProperty("basket_amount_discount",A.context.cart.totalDiscounts.value),"undefined"!=typeof A.context.cart.entriesGroups&&null!=A.context.cart.entriesGroups&&A.analytics.addProperty("basket_order_types",A.context.cart.entriesGroups.filter(function(e){return e.entries.length>0||e.bundles.length}).map(function(e){return e.groupType})),"undefined"!=typeof A.context.cart.vouchers&&null!=A.context.cart.vouchers&&A.analytics.addProperty("basket_voucher_list",A.context.cart.vouchers),"undefined"!=typeof A.context.cart.commercialOperations&&null!=A.context.cart.commercialOperations&&A.analytics.addProperty("basket_coffee_offer",A.context.cart.commercialOperations),A.analytics.addProducts())},A.analytics.addProducts=function(){function e(e){var t=0;return null!=e&&null!=e.value&&(t=e.value),t}function t(e){var t=0;return null!=e&&null!=e.oldPriceValue&&null!=e.value&&(t=e.oldPriceValue-e.value),t}if(null!=A.context.cart&&null!=A.context.cart.entries){var a=[];A.context.cart.entries.forEach(function(n){var i={},o=n.offer;if(null!=o){i.unitprice_ati=A.analytics.getValue(e(o.price)),i.discount_ati=A.analytics.getValue(t(o.price)),i.order_type=A.analytics.getValue(o.process),"undefined"!=typeof o.loyalty&&null!=o.loyalty&&(i.cagnottable_amount=A.analytics.getValue(o.loyalty.value));var l=n.offer.product;null!=l&&("undefined"!=typeof l.baseProductCode&&null!=l.baseProductCode?(i.id=A.analytics.getValue(l.baseProductCode),i.variant_id=A.analytics.getValue(l.code)):i.id=A.analytics.getValue(l.code));var s=n.offer.vendor;null!=s&&(i.marketplace_vendor_label=A.analytics.getValue(A.utils.escapeString(s.name)),i.marketplace_vendor_id=A.analytics.getValue(A.utils.escapeString(s.code))),i.quantity=A.analytics.getValue(n.quantity)}a.push(i)}),A.analytics.addProperty("basket_products",a)}},A.analytics.addUserOnConsentsUpdate=function(){A.analytics.addUser(),A.analytics.dispatchUserContextLoadedEvent("user_consents_loaded")},A.analytics.dispatchUserContextLoadedEvent=function(e){A.analytics.analyticsContext.event=e||"user_info_loaded",window.dataLayer.push(A.analytics.analyticsContext),A.analytics.analyticsContext={}},A.analytics.getQuantity=function(e){var t=A.utils.closest(e,".product-addToCart--container");if(null!=t){var a=A.utils.qs(".qtySelector__counter-input",{parent:t});if(null!=a)return a.value}},A.analytics.consignmentValidationTracking=function(e){var t=e.matchingTarget;if(null!=t){var a=e.matchingTarget.closest(".checkout-delivery--itemDetail"),n=A.utils.qs(".checkout-deliverySubType--selector:checked",{parent:a,cache:!1});if(null!=n){var i=n.closest(".checkout-deliveryMode--container"),o=A.utils.qs(".checkout-deliveryMode--name",{parent:i,cache:!1});if(null!=o)var l=A.utils.getInnerText(o).toLowerCase().replace(/ /g,"_")}var s=A.utils.isTrue(t.dataset.hx),r=t.dataset.storeid,c=s?"h+x":"livraison",u=t.dataset.count,d={"event-category":"checkout","event-action":c,"event-label":"continuer_"+u,event:"clickEvent"};!s&&l&&(d.choix_livraison=l),null!=r&&(d.id_magasin=r),window.dataLayer.push(d)}},A.analytics.deliveryValidationTracking=function(e){var t=e.matchingTarget;if(null!=t){var a=e.matchingTarget.closest(".checkout-delivery--itemDetail"),n=A.utils.qs(".checkout-deliverySubType--selector:checked",{parent:a,cache:!1});if(null!=n){var i=n.closest(".checkout-deliveryMode--container"),o=A.utils.qs(".checkout-deliveryMode--name",{parent:i,cache:!1});if(null!=o)var l=A.utils.getInnerText(o).toLowerCase().replace(/ /g,"_")}var s=A.utils.isTrue(t.dataset.hx),r=s?"valider_ma_r√©servation":"passer_au_paiement",c=s?"h+x":"livraison",u={"event-category":"checkout","event-action":c,"event-label":r,event:"clickEvent"};s||null==l||(u.choix_livraison=l),window.dataLayer.push(u)}},A.analytics.loyaltyValidationTracking=function(){var e=A.utils.qs("#amount");if(null!=e){var t,a=(t={"event-category":"checkout","event-action":"paiement","event-label":"d√©cagnotter"},_defineProperty(t,"event-label",e.value),_defineProperty(t,"event","clickEvent"),t);window.dataLayer.push(a)}},A.analytics.oneyPaymentTracking=function(e){var t=A.utils.closest(e.matchingTarget,"form");if(null!==t){var a=A.utils.qs("input[name='paymentCardName']",{parent:t});if(null!==a)var n={"event-category":"checkout","event-action":"paiement","event-label":"payer_plusieurs_fois_carte_bancaire","payment-type":a.value,event:"clickEvent"};window.dataLayer.push(n)}},A.analytics.addDelivery=function(){if(null!=A.delivery&&null!=A.delivery.consignments){var e=[],t=1;A.delivery.consignments.forEach(function(a){if(null!=a){var n={};n.consignment_number=t;var i=[];null!=a.entries&&a.entries.forEach(function(e){if(null!=e){var t=e.offer;if(null!=t){var a=t.product;if(null!=a){var n={};n.product_id=a.code,i.push(n)}}}});var o=[];null!=a.deliveryModes&&a.deliveryModes.forEach(function(e){if(null!=e){var t={};t.consignment_deliverymode_label=e.label,t.consignment_deliverymode_fee=null!=e.price?e.price.value:void 0,t.consignment_deliverymode_delay=e.delayLabel,o.push(t)}}),n.consignement_products=i,n.consignement_deliverymodes=o,e["consignment_"+t]=n,t++}}),A.analytics.addProperty("delivery_package_proposed",e)}},A.analytics.addPayment=function(){if(null!=A.payment&&null!=A.payment.methods){var e=[];A.payment.methods.forEach(function(t){if(null!=t){var a={};a.method_label=t.code;var n=[];null!=t.paymentFacilityList&&t.paymentFacilityList.forEach(function(e){if(null!=e){var t={};t.facility_label=e.clientLabel,n.push(t)}}),a.payment_facilities=n,e.push(a),A.analytics.addProperty("payment_methods_available",e)}})}},A.analytics.track=function(e){var t={category:A.configuration.pageType},a=A.utils["extends"](t,e),n={};for(var i in a)n["event-"+i]=a[i];window.dataLayer.push(n)},A.analytics.push=function(e){e&&window.dataLayer.push(e)},A.analytics.handlerContextUpdate=function(){A.context.isConsentInitialized||A.events.add(document,"consentsUpdated",A.analytics.addUserOnConsentsUpdate),A.analytics.addUser(),A.analytics.addCart(),A.analytics.addUserTrackingManagement(),A.analytics.dispatchUserContextLoadedEvent(),A.events.remove(document,"contextUpdated",A.analytics.handlerContextUpdate)},A.analytics.init=function(){A.analytics.analyticsContext={},A.analytics.addDelivery(),A.analytics.addPayment(),A.events.add(document,"click",A.analytics.consignmentValidationTracking,'button.checkout-deliveryMode--continue[type="button"]'),A.events.add(document,"click",A.analytics.deliveryValidationTracking,'button.checkout-deliveryMode--continue[type="submit"]'),A.events.add(document,"click",A.analytics.loyaltyValidationTracking,'.checkout-loyalty--action-block input[type="submit"]'),A.events.add(document,"click",A.analytics.oneyPaymentTracking,"#confirm-oney-payment"),A.events.add(document,"contextUpdated",A.analytics.handlerContextUpdate),document.dispatchEvent(new CustomEvent("analyticsInitialized"))},A.module.add(["utilsInitialized"],A.analytics.init);var A=A||{};A.aria=A.aria||{},A.aria.popinElement=null,A.aria.popinLastFocus=null,A.aria.KeyCode={ESC:27},A.aria.focusHistory=null,A.aria.setFocus=function(e){A.aria.setFocusHistory(),e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&A.aria.attemptFocus(e,!0)},A.aria.managePopinFocus=function(e){A.aria.addPopinAriaAttributes(e),A.aria.setFocusHistory(),A.aria.popinElement=e,A.aria.focusFirstDescendant(e)},A.aria.releasePopinFocus=function(){A.aria.releaseFocus(),A.aria.popinElement=null,A.aria.popinLastFocus=null,A.events.remove(document,"focus",A.aria.handleFocus),A.events.remove(document,"keyup",A.aria.handleEscape)},A.aria.releaseFocus=function(){A.aria.focusHistory&&A.aria.attemptFocus(A.aria.focusHistory)},A.aria.setFocusHistory=function(){document.activeElement&&(A.aria.focusHistory=document.activeElement)},A.aria.addPopinAriaAttributes=function(e){if(e){e.setAttribute("role","dialog");var t=A.utils.qs(".title",{parent:e});if(t&&(t.tabIndex=-1,e.id)){var a=e.id+"_title";t.id=a,e.setAttribute("aria-labelledby",a)}var n=A.utils.createElement("button",{"class":"screen-hidden layer__close","aria-label":A.aria.config.closePopinDescription},A.aria.config.closePopinLabel);e.insertAdjacentElement("beforeend",n)}A.events.add(document,"focus",A.aria.handleFocus),A.events.add(document,"keyup",A.aria.handleEscape)},A.aria.handleFocus=function(e){A.aria.ignoreUtilFocusChanges||(A.aria.popinElement.contains(e.target)?A.aria.popinLastFocus=e.target:(A.aria.focusFirstDescendant(A.aria.popinElement),A.aria.popinLastFocus===document.activeElement&&A.aria.focusLastDescendant(A.aria.popinElement),A.aria.popinLastFocus=document.activeElement))},A.aria.handleEscape=function(e){var t=e.which||e.keyCode;t===A.aria.KeyCode.ESC&&A.layers.closeAllLayers()},A.aria.isFocusable=function(e){if(e&&0!==e.tabIndex||0===e.tabIndex&&e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName.toLowerCase()){case"a":return!!e.href&&"ignore"!==e.rel;case"input":return"hidden"!==e.type&&"file"!==e.type;case"button":case"select":case"textarea":return!0;default:return!1}},A.aria.focusFirstDescendant=function(e){if(e)for(var t=0;t<e.children.length;t++){var a=e.children[t];if(A.aria.attemptFocus(a,!1)||A.aria.focusFirstDescendant(a))return!0}return!1},A.aria.focusLastDescendant=function(e){if(e)for(var t=e.children.length-1;t>=0;t--){var a=e.children[t];if(A.aria.attemptFocus(a,!1)||A.aria.focusLastDescendant(a))return!0}return!1},A.aria.attemptFocus=function(e,t){if(t===!0&&(e.tabIndex=-1),!A.aria.isFocusable(e))return!1;A.aria.ignoreUtilFocusChanges=!0;try{e.focus()}catch(a){}return A.aria.ignoreUtilFocusChanges=!1,document.activeElement===e},A.aria.init=function(){document.dispatchEvent(new CustomEvent("ariaInitialized"))},A.module.add(["utilsInitialized","layersInitialized"],A.aria.init);var A=A||{};A.aria=A.aria||{},A.aria.handleEscape=function(e){var t=e.which||e.keyCode;t===A.aria.KeyCode.ESC&&A.overlay.close()},A.aria.initMobileFirst=function(){document.dispatchEvent(new CustomEvent("mobilefirst.ariaInitialized"))},A.module.add(["overlayInitialized"],A.aria.initMobileFirst);var A=A||{};A.context=A.context||{},A.context.isInitialized=!1,A.context.isConsentInitialized=!1,A.context.utm={},A.context.utm.browserStoreKey="auchan_utm",A.context.consentsStorageKey="consents_",A.context.store=null,A.context.user=null,A.context.cart=null,A.context.HASH_PREFIX="fsid=",A.context.SECONDS_PER_DAY=86400,A.context.updateUserTrackingManagementValue=function(e,t,a){null!=a&&(e[t]=a)},A.context.getUserTrackingManagement=function(){if(A.storage.isAvailable(A.storage.TYPES.SESSION)){var e=A.storage.get(A.context.utm.browserStoreKey);return null!=e&&A.utils.isReferringItSelf()||(e=e||{},A.context.updateUserTrackingManagementValue(e,"source",A.utils.getRequestParam("utm_source")),A.context.updateUserTrackingManagementValue(e,"support",A.utils.getRequestParam("utm_medium")),A.context.updateUserTrackingManagementValue(e,"campaign",A.utils.getRequestParam("utm_campaign")),A.context.updateUserTrackingManagementValue(e,"keyword",A.utils.getRequestParam("utm_term")),A.context.updateUserTrackingManagementValue(e,"content",A.utils.getRequestParam("utm_content")),A.storage.set(A.context.utm.browserStoreKey,e)),e}return null},A.context.handleHashChange=function(e,t){A.context.isInitialized=!0,A.utils.isTrue(t)&&A.utils.get({url:A.context.config.setFavoriteStoreUrl,success:A.context.handleContextUpdate,error:A.context.handleContextUpdate,data:{storeId:e}})},A.context.addConsents=function(e){null!=e&&(A.storage.isAvailable(A.storage.TYPES.SESSION)&&A.storage.set(A.context.consentsStorageKey+A.utils.getCookie(A.context.config.userCookieName),e,A.storage.TYPES.SESSION),A.context.loyaltyCards=e.loyaltyCards,A.context.newsConsents=e.newsConsents,A.context.emailConsent=e.emailConsent,A.context.mailConsent=e.mailConsent,A.context.phoneConsent=e.phoneConsent,A.context.thirdPartiesConsent=e.thirdPartiesConsent),A.context.isConsentInitialized=!0,document.dispatchEvent(new CustomEvent("consentsUpdated"))},A.context.initializeUserConsents=function(){var e=A.utils.getCookie(A.context.config.userCookieName);if(null!=e){var t=null;A.storage.isAvailable(A.storage.TYPES.SESSION)&&(t=A.storage.get(A.context.consentsStorageKey+e,A.storage.TYPES.SESSION)),null!=t?A.context.addConsents(t):A.utils.get({url:A.context.config.userConsentsUrl,success:A.context.addConsents,error:function(){A.context.addConsents(null)},data:{uid:e},dataType:"json"})}else A.context.addConsents(null)},A.context.handleContextUpdate=function(){A.utils.get({url:A.context.config.userContextUrl,success:A.context.initializeContext,dataType:"json"})},A.context.initializeContext=function(e){null!=e&&(null==A.context.utm&&(A.context.utm=A.context.getUserTrackingManagement()),A.context.user=e.user,A.context.store=e.store,A.context.cart=e.cart,A.context.authenticated=e.authenticated,A.context.initializeUserConsents(),A.context.handleUserCookies(e),document.dispatchEvent(new CustomEvent("contextUpdated")),document.dispatchEvent(new CustomEvent("contextInitialized")),A.context.isInitialized=!0)},A.context.handleUserCookies=function(e){e&&(e.cartCookieValue?A.utils.setCookie(A.context.config.cartCookieName,e.cartCookieValue,A.context.config.cartCookieAgeSeconds/A.context.SECONDS_PER_DAY):A.utils.setCookie(A.context.config.cartCookieName,"",0),"undefined"!=typeof e.userCookieValue&&(e.userCookieValue?A.utils.setCookie(A.context.config.userCookieName,e.userCookieValue,A.context.config.userCookieAgeSeconds/A.context.SECONDS_PER_DAY):A.utils.setCookie(A.context.config.userCookieName,"",0)))},A.context.init=function(){A.context.config&&(A.events.add(document,"cartUpdated",A.context.handleContextUpdate),A.events.add(document,"authenticationUpdated",A.context.handleContextUpdate),A.hashmanager.addHandler(A.context.HASH_PREFIX,A.context.handleHashChange),A.context.isInitialized||A.context.handleContextUpdate())},A.module.add(["storageInitialized","visibilityInitialized","hashmanagerInitialized","utilsInitialized"],A.context.init);var A=A||{};A.encoding=A.encoding||{},A.encoding.getHexCode=function(e){if(e){for(var t=[],a=new DataView(e),n=0;n<a.byteLength;n+=4){var i=a.getUint32(n),o=i.toString(16),l="00000000",s=(l+o).slice(-l.length);t.push(s)}return t.join("")}return""},A.encoding.getSha256Value=function(e){if(e){var t=new TextEncoder("utf-8").encode(e),a=null!=crypto?crypto.subtle||crypto.webkitSubtle:null;if(a)return a.digest("SHA-256",t).then(function(e){return A.encoding.getHexCode(e)})}return""},A.encoding.init=function(){document.dispatchEvent(new CustomEvent("encodingInitialized"))},A.module.add(["DOMContentLoaded"],A.encoding.init);var A=A||{};A.form=A.form||{},A.form.handleInputOnlyNumberKeypress=function(e){(e.which<48||e.which>57)&&8!==e.which&&e.preventDefault()},A.form.handleSwitchRadioChange=function(e){null!=e.matchingTarget&&A.form.switchRadioChange(e.matchingTarget)},A.form.switchRadioChange=function(e){if(null!=e){var t,a=e.dataset.parentSelector,n=e.dataset["switch"];t=null!=a?A.utils.closest(e,a):e.parentElement,null!=t&&A.utils.qsAll("input[data-case],select[data-case],textarea[data-case]",{parent:t,cache:!1}).forEach(function(e){e.dataset["case"]==n?e.setAttribute("name",e.dataset.name):e.removeAttribute("name")})}},A.form.init=function(){A.events.add(document,"keypress",A.form.handleInputOnlyNumberKeypress,".inputOnlyNumber"),A.events.add(document,"change",A.form.handleSwitchRadioChange,'input[type="radio"][data-switch]'),document.dispatchEvent(new CustomEvent("form.Initialized"))},A.module.add(["utilsInitialized"],A.form.init);var A=A||{};A.hamon=A.hamon||{},A.hamon.hamonDomElement=null,A.hamon.cookies={},A.hamon.tmpCookieName="tmpHamonCookie",A.hamon.cookies.hamonCookie="auchan.hamon",A.hamon.cookies.consentCookie="auchan.consentCookie",A.hamon.HASH_PREFIX="revalidate=",A.hamon.expiresDays=390,A.hamon.handleCloseCookieBannerClick=function(){var e=A.utils.qs(".loi_hamon");null!=e&&e.classList.remove("open")},A.hamon.handleHashChange=function(e,t){null!=t&&(A.utils.setCookie(A.hamon.cookies.hamonCookie,"",-1),A.utils.setCookie(A.hamon.cookies.consentCookie,"",-1),A.utils.setCookie(A.hamon.tmpCookieName,"",-1))},A.hamon.init=function(){if(A.hashmanager.addHandler(A.hamon.HASH_PREFIX,A.hamon.handleHashChange),null==A.utils.getCookie(A.hamon.cookies.consentCookie)){if(null!=A.utils.getCookie(A.hamon.tmpCookieName))A.utils.setCookie(A.hamon.cookies.hamonCookie,1,A.hamon.expiresDays),A.utils.setCookie(A.hamon.cookies.consentCookie,3,A.hamon.expiresDays),A.utils.setCookie(A.hamon.tmpCookieName,"",-1);else{var e=A.utils.qs(".loi_hamon");null!=e&&e.classList.add("open"),A.utils.setCookie(A.hamon.tmpCookieName,"tmp",1)}A.events.add(document,"click",A.hamon.handleCloseCookieBannerClick,".loi_hamon_closeButton")}document.dispatchEvent(new CustomEvent("hamonInitialized"))},A.module.add(["utilsInitialized","hashmanagerInitialized"],A.hamon.init);var A=A||{};A.hashmanager=A.hashmanager||{},A.hashmanager.SEPARATOR="&",A.hashmanager.COMPARATOR="=",A.hashmanager.HASH_URI_SEPARATOR="#",A.hashmanager.HASH_REGEX=/.*#(.*)$/,A.hashmanager.handlers=[],A.hashmanager.awaitingActions=[],A.hashmanager.handledActions=[],A.hashmanager.defaultSettings={onAddOnly:!1},A.hashmanager.addHashToURL=function(e,t,a){if(null!=e){var n=A.hashmanager.buildHash(t);if(null!=n){var i=e.indexOf(A.hashmanager.HASH_URI_SEPARATOR);return i!=-1&&A.utils.isTrue(a)&&(e=e.substr(0,i)),e+(i==-1||A.utils.isTrue(a)?A.hashmanager.HASH_URI_SEPARATOR:A.hashmanager.SEPARATOR)+n}}},A.hashmanager.addHash=function(e){var t=A.hashmanager.buildHash(e);null!=t&&(window.location.hash=t)},A.hashmanager.buildHash=function(e){return null!=e?Array.isArray(e)?e.join(A.hashmanager.SEPARATOR):e:null},A.hashmanager.removeHash=function(e,t){var a=location.hash.slice(1);if(""!==a&&""!==e){var n="",i=a.split(A.hashmanager.SEPARATOR);i.forEach(function(a){var i;i=t?a:a.split(A.hashmanager.COMPARATOR)[1],null!==i&&i!==e&&(n+=""!==n?A.hashmanager.SEPARATOR+a:a)}),window.location.hash=n}},A.hashmanager.removeAllHash=function(){"pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=""},A.hashmanager.addActionsToWaitingList=function(e,t){if(null!=e&&e.length>0)for(var a=0;a<e.length;a++){var n=t.indexOf(e[a]);n==-1&&A.hashmanager.awaitingActions.indexOf(e[a])==-1?A.hashmanager.awaitingActions.push(e[a]):n!=-1&&t.splice(n,1)}},A.hashmanager.cleanupHandledActions=function(e){if(null!=e&&e.length>0)for(var t=0;t<e.length;t++){var a=A.hashmanager.handledActions.indexOf(e[t]);if(a!=-1){A.hashmanager.handledActions.splice(a,1);var n=A.hashmanager.getHandlerForAction(e[t]);null!=n&&n.callback.call(null,e[t],!1)}}},A.hashmanager.getHandlerForAction=function(e){if(null!=e){var t=A.hashmanager.handlers.filter(function(t){return e.startsWith(t.prefix)});if(t.length>0)return t[0]}return null},A.hashmanager.triggerHandlers=function(){if(A.hashmanager.awaitingActions.length>0){for(var e=[],t=0;t<A.hashmanager.awaitingActions.length;t++){var a=A.hashmanager.awaitingActions[t],n=A.hashmanager.getHandlerForAction(a);null!=n&&(e.push(a),null!=n&&n.callback.call(null,a.replace(n.prefix,""),!0))}e.forEach(function(e){var t=A.hashmanager.awaitingActions.indexOf(e);t!=-1&&A.hashmanager.awaitingActions.splice(A.hashmanager.awaitingActions.indexOf(e),1),A.hashmanager.handledActions.push(e)})}},A.hashmanager.handleHashChange=function(e){var t=e.oldURL.match(A.hashmanager.HASH_REGEX),a=e.newURL.match(A.hashmanager.HASH_REGEX),n=[],i=[];null!=t&&(n=t[1].split(A.hashmanager.SEPARATOR)),null!=a&&(i=a[1].split(A.hashmanager.SEPARATOR)),A.hashmanager.addActionsToWaitingList(i,n),A.hashmanager.cleanupHandledActions(n),A.hashmanager.triggerHandlers()},A.hashmanager.addHandler=function(e,t,a){if(null!=e&&"function"==typeof t){var n=A.utils["extends"](A.hashmanager.defaultSettings,a);A.hashmanager.handlers.push({prefix:e,callback:t}),A.hashmanager.triggerHandlers(),A.utils.isTrue(n.onAddOnly)&&A.hashmanager.removeHandler(e)}},A.hashmanager.removeHandler=function(e){if(null!=e){var t=A.hashmanager.handlers.filter(function(t){return t.prefix==e});t.length>0&&t.forEach(function(e){A.hashmanager.handlers=A.hashmanager.handlers.slice(A.hashmanager.handlers.indexOf(e),1)})}},A.hashmanager.handleInitialHash=function(){var e=window.location.hash;if(e.length>0){var t=new CustomEvent("hashchange"),a=window.location.href;t.oldURL=a.substring(0,a.length-e.length),t.newURL=a,A.hashmanager.handleHashChange(t)}},A.hashmanager.init=function(){A.hashmanager.handleInitialHash(),A.events.add(window,"hashchange",A.hashmanager.handleHashChange),document.dispatchEvent(new CustomEvent("hashmanagerInitialized"))},A.module.add(["visibilityInitialized"],A.hashmanager.init);var A=A||{};A.layers=A.layers||{},A.layers.ui={},A.layers.ui.close={button:"ui-btn ui-btn--icon layer__close",i:"icon-auchan-14"},A.layers.ui.back={button:"ui-btn ui-btn--icon r180",i:"icon-auchan-18"},A.layers.HASH_PREFIX="lo=",A.layers.lastScrollOffsetY=0,A.layers.defaultConfig={activated:!1,id:null,removeExisting:!1,title:null,triggerCallback:null,triggerElements:null,backButtonCallback:null,mainContent:null,fullContent:null,footerElements:null,layerCssClass:null,headerCssClass:null,mainCssClass:null,footerCssClass:null},A.layers.handleLayerTriggerClick=function(e){if(e.preventDefault(),e.stopPropagation(),"undefined"!=typeof e.matchingTarget){var t=e.matchingTarget.getAttribute("data-layerid");A.layers.open(t)}},A.layers.handleAjaxLayerResponse=function(e,t){null!=t&&A.layers.create(A.utils["extends"](e,{fullContent:t}))},A.layers.generateAjaxLayer=function(e,t){if(null!=e){var a=!0;if(!A.utils.isTrue(t.removeExisting)&&null!=t.id){var n=A.utils.qs("#"+t.id,{cache:!1});null!=n&&(A.layers.open(t.id),a=!1)}if(a){var i=A.utils["extends"](e,t);A.utils.get(A.utils["extends"](i,{success:function(e){A.layers.handleAjaxLayerResponse(t,e)}}))}}},A.layers.handleAjaxLayerTriggerClick=function(e){e.preventDefault(),e.stopPropagation();var t=e.matchingTarget.getAttribute("href");null!=t&&0!==t.length&&"#"!=t||(t=e.matchingTarget.dataset.href),A.layers.generateAjaxLayer({url:t,loader:!0},e.matchingTarget.dataset)},A.layers.open=function(e){"undefined"!=typeof e&&A.hashmanager.addHash(A.layers.HASH_PREFIX+e)},A.layers.closeAllLayers=function(){A.layers.closeActiveLayers()},A.layers.handleLayerCloseTriggerClick=function(e){e.preventDefault(),A.layers.closeAllLayers()},A.layers.create=function(e){function t(e,t){var a;null!=t.headerCssClass&&(a={"class":t.headerCssClass});var n=A.utils.createElement("header",a);if("function"==typeof t.backButtonCallback){var i=A.utils.createElement("button",{"class":A.layers.ui.back.button}),o=A.utils.createElement("i",{"class":A.layers.ui.back.i});i.appendChild(o);var l=n.appendChild(i);l.addEventListener("click",t.backButtonCallback,!1)}if(null!==t.title){var s=A.utils.createElement("span",{"class":"title"});s.innerText=t.title,n.appendChild(s)}var i=A.utils.createElement("button",{"class":A.layers.ui.close.button}),o=A.utils.createElement("i",{"class":A.layers.ui.close.i});i.appendChild(o);var r=n.appendChild(i);r.addEventListener("click",A.layers.closeAllLayers,!1),e.appendChild(n)}function a(e,t){var a;null!=t.mainCssClass&&(a={"class":t.mainCssClass});var n=A.utils.createElement("main",a);"object"===_typeof(t.mainContent)?n.appendChild(t.mainContent):Array.isArray(t.mainContent)?A.utils.appendChilds(n,t.mainContent):"undefined"!=typeof t.mainContent&&(n.innerHTML=t.mainContent),e.appendChild(n)}function n(e,t){if(Array.isArray(t.footerElements)){var a;null!=t.footerCssClass&&(a={"class":t.footerCssClass});var n=A.utils.createElement("footer",a);A.utils.appendChilds(n,t.footerElements),e.appendChild(n)}}function i(e){Array.isArray(e.triggerElements)&&e.triggerElements.forEach(function(t){var a="function"==typeof e.triggerCallback?e.triggerCallback:function(){A.layers.open(e.id)};t.addEventListener("click",a,!1)})}var o=A.utils["extends"](A.layers.defaultConfig,e);null===o.id&&(o.id="gen_"+Date.now());var l={id:o.id,"class":"layer"+(null!=o.layerCssClass?" "+o.layerCssClass:"")},s=A.utils.createElement("div",l,o.fullContent);if(null==o.fullContent&&(t(s,o),a(s,o),n(s,o)),i(s,o),A.utils.isTrue(e.removeExisting)){var r=A.utils.qs("#"+o.id,{cache:!1,clear:!0});null!=r&&(r.classList.contains("active")&&A.hashmanager.removeAllHash(),r.parentElement.removeChild(r))}var c=A.utils.qs("body").appendChild(s);return A.utils.isTrue(o.activated)&&A.layers.open(o.id,o.useHash),c},A.layers.closeActiveLayers=function(){var e=A.utils.qsAll(".layer.active",{cache:!1});e.length>0&&(A.layers.releaseScroll(),e.forEach(function(e){requestAnimationFrame(function(){e.classList.remove("show"),A.hashmanager.removeHash(e.id,!1),setTimeout(function(){requestAnimationFrame(function(){e.classList.remove("active"),A.aria.releasePopinFocus()})},50)})}))},A.layers.stopScrollPropagation=function(e){e=e||"no-scroll",A.layers.lastScrollOffsetY=document.body.scrollTop,requestAnimationFrame(function(){A.utils.qs("html").classList.add(e)})},A.layers.releaseScroll=function(){var e=A.utils.qs("html");if(null!=e){var t=[].slice.call(e.classList).filter(function(e){return e.startsWith("no-scroll")});t.length>0&&(t.forEach(function(t){e.classList.remove(t)}),document.body.scrollTop=A.layers.lastScrollOffsetY)}},A.layers.handleHashChange=function(e,t){null!=e&&(A.utils.isTrue(t)?A.layers.openLayerEl(A.utils.qs("#"+e,{cache:!1})):A.layers.closeActiveLayers())},A.layers.openLayerEl=function(e,t){null!=e&&(A.layers.closeActiveLayers(),A.layers.stopScrollPropagation(),requestAnimationFrame(function(){e.classList.toggle("active"),setTimeout(function(){requestAnimationFrame(function(){if(e.classList.toggle("show"),A.utils.isTrue(t)){var a=A.utils.qs("main",{parent:e});null!=a&&(a.scrollTop=0);
}A.aria.managePopinFocus(e)})},50)}))},A.layers.init=function(){A.events.add(document,"click",A.layers.handleLayerTriggerClick,".layer__trigger"),A.events.add(document,"click",A.layers.handleAjaxLayerTriggerClick,".layer__trigger--ajax"),A.events.add(document,"click",A.layers.handleLayerCloseTriggerClick,".layer__close"),A.events.add(document,"click",function(e){e.stopPropagation()},"#wrapper.wrapper-layer .layer"),A.hashmanager.addHandler(A.layers.HASH_PREFIX,A.layers.handleHashChange),document.dispatchEvent(new CustomEvent("layersInitialized"))},A.module.add(["utilsInitialized","hashmanagerInitialized"],A.layers.init);var A=A||{};A.layers=A.layers||{},A.layers.headerScrollGap=0,A.layers.stickyTabsScrollGap=0,A.layers.getScrollGap=function(){return A.layers.headerScrollGap+A.layers.stickyTabsScrollGap},A.layers.initialOpenLayerEl=A.layers.openLayerEl,A.layers.openLayerEl=function(e,t){null!=e&&(null===e.offsetParent||e.matches(".active")?e.matches(".layer--modal")||e.matches(".layer--boost")?(A.overlay.open({cssClasses:"full"}),A.layers.initialOpenLayerEl(e,t)):e.matches(".layer--classic")?(A.overlay.open(),A.layers.initialOpenLayerEl(e,t)):(A.layers.initialOpenLayerEl(e,t),A.layers.releaseScroll(),A.layers.stopScrollPropagation("no-scroll-small")):A.utils.animate("body, html",{scrollTop:A.utils.getOffset(e)-A.layers.getScrollGap()}))},A.layers.open=function(e,t){if(A.utils.isTrue(t))A.hashmanager.addHash(A.layers.HASH_PREFIX+e);else{var a=A.utils.qs("#"+e,{cache:!1});null!=a&&A.layers.openLayerEl(a)}},A.layers.updateScrollGapForHeader=function(){A.layers.headerScrollGap=A.header.height},A.layers.updateScrollGapForStickyTabs=function(){A.layers.stickyTabsScrollGap=A.stickytabs.height},A.layers.initMobileFirst=function(){A.events.add(document,"click",A.overlay.close,".layer__close"),A.overlay.addClosingListener(A.layers.closeAllLayers),document.dispatchEvent(new CustomEvent("mobilefirst.layersInitialized"))},A.module.add(["headerInitialized"],A.layers.updateScrollGapForHeader),A.module.add(["mobilefirst.stickytabsInitialized"],A.layers.updateScrollGapForStickyTabs),A.module.add(["layersInitialized","overlayInitialized"],A.layers.initMobileFirst);var A=A||{};A.lazyload=A.lazyload||{},A.lazyload.crossSell=A.lazyload.crossSell||{},A.lazyload.crossSell.blocksStatuses={},A.lazyload.crossSell.THIRD_PARTY={T2S:"TARGET2SELL",HL:"HOOKLOGIC"},A.lazyload.crossSell.blocks=[],A.lazyload.crossSell.timer,A.lazyload.crossSell.trackingTimer,A.lazyload.crossSell.recommendationsRegistry={},A.lazyload.crossSell.maxItems=10,A.lazyload.crossSell.hasBeenTracked=!1,A.lazyload.crossSell.unrestrictedPagesForCrossSelling=["CONTENTPAGE","PRODUCTSEARCH","CART"],A.lazyload.crossSell.handleTarget2SellProductClick=function(e){var t={};t.eN=e.type,t.cURL=location.origin+location.pathname,t.cID=A.crossSell.config.t2sCustomerId,t.tID=A.utils.getCookie(A.crossSell.config.crossSellCookieName);var a=e.matchingTarget.dataset.code;if(null==a){var n=A.utils.closest(e.matchingTarget,".product-item--container");null!=n&&null!=n.dataset.code&&(a=n.dataset.code)}t.iID=a;var i=A.utils.closest(e.matchingTarget,".product-crosssell--container");t.sp=i.id;var o=A.lazyload.crossSell.recommendationsRegistry[i.id];if(null!=o)for(var l=0;l<o.length;l++)if(o[l].productCode.toUpperCase()==a){t.ru=o[l].algorithm,t.po=l;break}var s=i.dataset.externalId;if(null!=s){var r=s.split("-");t.pID=r.length>0?r[0]:null}""!=document.referrer&&(t.rF=document.referrer),A.utils.post({url:A.crossSell.config.t2sTrackingApiUrl,cacheable:!1,data:t,async:!1})},A.lazyload.crossSell.isBelowTheFold=function(e){var t=e.getBoundingClientRect();return A.utils.getScroll("Y")+t.top>=.9*document.documentElement.clientHeight},A.lazyload.crossSell.getRequestData=function(e){var t={};if(Array.isArray(A.crossSell.config.requestSettings)){var a=A.crossSell.config.requestSettings.filter(function(t){return t.applies.call(null,e)}).sort(function(e,t){return t.weight-e.weight});a.length>0&&(t=A.utils.copy(a[0].data,!0)),"undefined"!=typeof t.path&&(t.path=A.lazyload.crossSell.buildPath(t.path))}return t.sendTrackingRequest=!A.lazyload.crossSell.hasBeenTracked,t},A.lazyload.crossSell.loadBlocks=function(){if(A.lazyload.crossSell.blocks.length>0){var e=A.lazyload.crossSell.getRequestData(A.lazyload.crossSell.blocks.length?A.lazyload.crossSell.blocks[0]:null);e.blocks=A.lazyload.crossSell.blocks,A.lazyload.crossSell.sendRequest(e,A.lazyload.crossSell.handleAjaxResponse),A.lazyload.crossSell.blocks.length=0}},A.lazyload.crossSell.sendRequest=function(e,t){A.lazyload.crossSell.hasBeenTracked=!0,A.utils.post(_defineProperty({url:"/cross-sell",success:t,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e,triggerDomUpdate:!0},"headers",{"X-Output-Versioning":"true"}))},A.lazyload.crossSell.buildPath=function(e){return Array.isArray(e)&&e.length?"/"+e.map(function(e){return e.name}).join("/"):""},A.lazyload.crossSell.handleAjaxResponse=function(e){Array.isArray(e)&&(e.forEach(function(e){var t=document.getElementById(e.containerId);null!=t&&(t.innerHTML=e.html,A.lazyload.crossSell.recommendationsRegistry[e.containerId]=e.recommendations)}),document.dispatchEvent(new CustomEvent("crossSellCookieReady")))},A.lazyload.crossSell.isT2SBlockAllowed=function(e){return!(!(A.lazyload.crossSell.maxItems>0)||!A.lazyload.crossSell.isBelowTheFold(e)&&A.lazyload.crossSell.unrestrictedPagesForCrossSelling.indexOf(A.configuration.pageType)===-1)},A.lazyload.crossSell.handler=function(e){if(null!=e&&null!=e.id&&null!=e.dataset.thirdParty){A.lazyload.crossSell.blocksStatuses[e.dataset.thirdParty]=A.lazyload.crossSell.blocksStatuses[e.dataset.thirdParty]||[];var t=null!=A.utils.closest(e,".layer"),a=A.lazyload.crossSell.blocksStatuses[e.dataset.thirdParty].indexOf(e)!=-1;if(!a){var n=t||A.lazyload.crossSell.isT2SBlockAllowed(e);if(A.lazyload.crossSell.blocksStatuses[e.dataset.thirdParty].push(e),n){if(clearTimeout(A.lazyload.crossSell.trackingTimer),clearTimeout(A.lazyload.crossSell.timer),A.lazyload.crossSell.blocks.push({externalId:e.dataset.externalId,htmlContainerId:e.id,htmlContentComponent:e.dataset.htmlContentComponent,thirdParty:e.dataset.thirdParty,analytics:decodeURI(e.dataset.analytics||"")}),A.lazyload.crossSell.THIRD_PARTY.T2S==e.dataset.thirdParty){var i=e.dataset.externalId.split("-")[0];[].slice.call(A.utils.qsAll('.product-crosssell--container[data-external-id^="'+i+'"]')).filter(function(e){return"undefined"==typeof A.lazyload.crossSell.blocksStatuses[e.dataset.thirdParty][e.id]}).forEach(A.lazyload.crossSell.handler)}A.lazyload.crossSell.timer=setTimeout(A.lazyload.crossSell.loadBlocks,100),t||A.lazyload.crossSell.maxItems--}}}},A.lazyload.crossSell.init=function(){"undefined"!=typeof A.crossSell&&"undefined"!=typeof A.crossSell.config&&(A.lazyload.addLazyload({qs:".product-crosssell--container[data-html-content-component]",handler:A.lazyload.crossSell.handler}),A.lazyload.crossSell.trackingTimer=setTimeout(function(){for(var e=A.utils.qsAll('.product-crosssell--container[data-third-party="TARGET2SELL"]',{cache:!1}),t=0;t<e.length;t++){var a=e[t];if(null!=a&&A.lazyload.crossSell.isT2SBlockAllowed(a)){A.lazyload.crossSell.handler(a);break}}},2e3),A.events.add(document,"click",A.lazyload.crossSell.handleTarget2SellProductClick,'.product-crosssell--container[data-third-party="TARGET2SELL"] a'),document.dispatchEvent(new CustomEvent("crossSell.lazyloadInitialized")))},A.module.add(["utilsInitialized","lazyloadInitialized"],A.lazyload.crossSell.init);var A=A||{};A.lazyload=A.lazyload||{},A.lazyload.images=A.lazyload.images||{},A.lazyload.images.cssClass="lazy",A.lazyload.images.lazyAttributes=[{source:"data-srcset",target:"srcset"},{source:"data-src",target:"src"}],A.lazyload.images.handler=function(e){for(var t=0;t<A.lazyload.images.lazyAttributes.length;t++){var a=e.getAttribute(A.lazyload.images.lazyAttributes[t].source);null!=a&&(e.setAttribute(A.lazyload.images.lazyAttributes[t].target,a),e.removeAttribute(A.lazyload.images.lazyAttributes[t].source))}e.classList.remove(A.lazyload.images.cssClass)},A.lazyload.images.init=function(){A.lazyload.addLazyload({qs:"."+A.lazyload.images.cssClass,handler:A.lazyload.images.handler}),document.dispatchEvent(new CustomEvent("images.lazyloadInitialized"))},A.module.add(["utilsInitialized","lazyloadInitialized"],A.lazyload.images.init);var A=A||{};A.lazyload=A.lazyload||{},A.lazyload.inProgressLazyLoad={},A.lazyload.defaultLazySettings={load:{},elements:{waiting:[],processing:[],completed:[]},timer:null},A.lazyload.viewRectLimits=null,A.lazyload.handlersConfiguration=[],A.lazyload.setViewRectLimits=function(){A.lazyload.viewRectLimits={bottom:0,right:0,top:1.4*(window.innerHeight||document.documentElement.clientHeight),left:1.4*(window.innerWidth||document.documentElement.clientWidth)}},A.lazyload.shouldBeLazyLoaded=function(e){var t=e.getBoundingClientRect();return t.bottom>=A.lazyload.viewRectLimits.bottom&&t.right>=A.lazyload.viewRectLimits.right&&t.top<=A.lazyload.viewRectLimits.top&&t.left<=A.lazyload.viewRectLimits.left},A.lazyload.initializeLazyLoad=function(e){if(null!=e){var t=A.utils.qsAll(e.qs,{cache:!1});if(t.length>0)if("undefined"==typeof A.lazyload.inProgressLazyLoad[e.qs]){var a=A.utils.copy(A.lazyload.defaultLazySettings);a.elements.waiting=t,a.load=function(){return 0!==a.elements.waiting.length&&(clearTimeout(a.timer),void(a.timer=setTimeout(function(){A.lazyload.evaluateLoad(e)},30)))},A.events.add(window,"scroll",a.load),A.lazyload.inProgressLazyLoad[e.qs]=a,a.load.call()}else A.lazyload.inProgressLazyLoad[e.qs].elements.waiting=[].filter.call(t,function(t){return A.lazyload.inProgressLazyLoad[e.qs].elements.completed.indexOf(t)===-1}),A.lazyload.inProgressLazyLoad[e.qs].load.call()}},A.lazyload.evaluateLoad=function(e){var t=[];A.lazyload.inProgressLazyLoad[e.qs].elements.processing.length=0,A.lazyload.inProgressLazyLoad[e.qs].elements.waiting.forEach(function(a){A.lazyload.shouldBeLazyLoaded(a)?A.lazyload.inProgressLazyLoad[e.qs].elements.processing.push(a):t.push(a)}),requestAnimationFrame(function(){A.lazyload.triggerLoad(e)}),A.lazyload.inProgressLazyLoad[e.qs].elements.waiting=t},A.lazyload.triggerLoad=function(e){A.lazyload.inProgressLazyLoad[e.qs].elements.processing.forEach(function(t){e.handler.call(null,t),A.lazyload.inProgressLazyLoad[e.qs].elements.completed.push(t)}),A.lazyload.inProgressLazyLoad[e.qs].elements.processing.length=0},A.lazyload.handleDomUpdate=function(){A.lazyload.handlersConfiguration.forEach(function(e){A.lazyload.initializeLazyLoad(e)})},A.lazyload.addLazyload=function(e){null!=e&&null!=e.qs&&"function"==typeof e.handler&&(A.lazyload.handlersConfiguration.push(e),A.lazyload.initializeLazyLoad(e))},A.lazyload.init=function(){A.lazyload.setViewRectLimits(),window.addEventListener("orientationchange",A.lazyload.setViewRectLimits,!1),A.events.add(document,"DOMUpdate",A.lazyload.handleDomUpdate),document.dispatchEvent(new CustomEvent("lazyloadInitialized"))},A.module.add(["utilsInitialized"],A.lazyload.init);var A=A||{};A.logger=A.logger||{},A.logger.active=!1,A.logger.init=function(){A.logger.active="true"===A.utils.getRequestParam("debug")&&null!=console,document.dispatchEvent(new CustomEvent("loggerInitialized"))},A.logger.info=function(e){A.logger.output("INFO ",e)},A.logger.error=function(e){A.logger.output("ERROR",e)},A.logger.output=function(e,t){A.logger.active&&(null!=e?console.log(e,t):console.log(t))},A.module.add(["DOMContentLoaded","visibilityInitialized"],A.logger.init);var A=A||{};A.messages=A.messages||{},A.messages.active=!1,A.messages.HASH_PREFIX="msg=",A.messages.SEPARATOR="|",A.messages.TYPES={ERROR:"error",INFO:"information",CONFIRMATION:"confirmation"},A.messages.remove=function(){var e=A.utils.qs("#messageContainer");null!=e&&(e.classList.add("hidden"),e.classList.remove(A.messages.TYPES.ERROR),e.classList.remove(A.messages.TYPES.INFO),e.classList.remove(A.messages.TYPES.CONFIRMATION))},A.messages.add=function(e,t){window.scrollTo(0,0),t=t||A.messages.TYPES.INFO;var a=A.utils.qs("#messageContainer");if(null!=a){var n=A.utils.qs("p",{parent:a});null!=n&&(A.messages.remove(),a.classList.add(t),a.classList.remove("hidden"),n.innerHTML=e)}},A.messages.addErrorMessage=function(e){A.messages.add(e,A.messages.TYPES.ERROR)},A.messages.addInformationMessage=function(e){A.messages.add(e,A.messages.TYPES.INFO)},A.messages.addConfirmationMessage=function(e){A.messages.add(e,A.messages.TYPES.CONFIRMATION)},A.messages.handleHashChange=function(e,t){if(e&&t){var a=decodeURIComponent(e).split(A.messages.SEPARATOR);a.length>1&&A.messages.add(a[1],a[0])}},A.messages.init=function(){A.hashmanager.addHandler(A.messages.HASH_PREFIX,A.messages.handleHashChange),document.dispatchEvent(new CustomEvent("messagesInitialized"))},A.module.add(["utilsInitialized","visibilityInitialized","hashmanagerInitialized"],A.messages.init);var A=A||{};A.overlay=A.overlay||{},A.overlay.onOpening=[],A.overlay.onClosing=[],A.overlay.lastWrapperClass=null,A.overlay.defaultSettings={cssClasses:null},A.overlay.getWrapperEl=function(){return"undefined"==typeof A.overlay.wrapperEl&&(A.overlay.wrapperEl=A.utils.qs("#wrapper")),A.overlay.wrapperEl},A.overlay.addOpeningListener=function(e){"function"==typeof e&&A.overlay.onOpening.push(e)},A.overlay.addClosingListener=function(e){"function"==typeof e&&A.overlay.onClosing.push(e)},A.overlay.handleOverlayClick=function(e){"undefined"!=typeof e&&(e.stopPropagation(),e.preventDefault()),A.overlay.close(e)},A.overlay.open=function(e){var t=A.utils["extends"](A.overlay.defaultSettings,e);A.overlay.getWrapperEl().classList.contains("wrapper-layer")&&(A.overlay.getWrapperEl().removeAttribute("class"),A.overlay.onClosing.forEach(function(e){e.call(null,t.event)})),A.overlay.getWrapperEl().classList.add("wrapper-layer"),A.overlay.getWrapperEl().classList.add("wrapper-overlay"),A.overlay.lastWrapperClass=t.cssClasses,null!=t.cssClasses&&A.overlay.getWrapperEl().classList.add(t.cssClasses),A.overlay.onOpening.forEach(function(e){e.call()})},A.overlay.isOpen=function(){return A.overlay.getWrapperEl().classList.contains("wrapper-overlay")},A.overlay.close=function(e){A.overlay.onClosing.forEach(function(t){t.call(null,e)}),A.overlay.getWrapperEl().classList.remove("wrapper-layer"),null!=A.overlay.lastWrapperClass&&A.overlay.getWrapperEl().classList.remove(A.overlay.lastWrapperClass),document.dispatchEvent(new CustomEvent("OverlayClosed"))},A.overlay.init=function(){A.events.add(document,"click",A.overlay.handleOverlayClick,"#wrapper.wrapper-layer"),document.dispatchEvent(new CustomEvent("overlayInitialized"))},A.module.add(["DOMContentLoaded","visibilityInitialized"],A.overlay.init);var A=A||{};A.pos=A.pos||{},A.pos.storeRegistry={},A.pos.now=new Date,A.pos.currentDayIndex=A.pos.now.getDay(),A.pos.METERS_IN_KM=1e3,A.pos.stores=[],A.pos.isChoiceButtonDisabledByDefault=!1,A.pos.displayStoreFavoriteChoice=!0,A.pos.sortStrategies={closest:function(e,t){return e.properties.distance-t.properties.distance},soonest:function(e,t){var a=[{start:"9999"}],n=e.properties.opening_hours.usual[A.pos.currentDayIndex]||a,i=t.properties.opening_hours.usual[A.pos.currentDayIndex]||a,o=(n[0]||a[0]).start.replace(":",""),l=(i[0]||a[0]).start.replace(":","");return parseInt(o)-parseInt(l)},latest:function(e,t){var a=[{end:"0"}],n=e.properties.opening_hours.usual[A.pos.currentDayIndex]||a,i=t.properties.opening_hours.usual[A.pos.currentDayIndex]||a,o=(n[n.length-1]||a[0]).end.replace(":",""),l=(i[i.length-1]||a[0]).end.replace(":","");return parseInt(l)-parseInt(o)}},A.pos.createScheduleElement=function(e){for(var t=A.utils.createElement("div",{"class":"pos-address--schedules"}),a=A.utils.createElement("table",{"class":"c-s"}),n=e.properties.opening_hours,i=1;i<=7;i++)A.pos.createOpeningDayElement(a,i,n.usual[i]);var o=!1;for(var l in n.special){if(!o){var s=A.utils.createElement("tr",{"class":"title"});s.appendChild(A.utils.createElement("td",{colspan:"2"},A.pos.config.messages.specialOpenings)),a.appendChild(s),o=!0}A.pos.createOpeningDayElement(a,l,n.special[l])}return t.appendChild(a),t},A.pos.createOpeningDayElement=function(e,t,a){if("undefined"==typeof a||0===a.length){if(A.pos.currentDayIndex===t)var n=A.utils.createElement("tr",{"class":"today"});else var n=A.utils.createElement("tr");var i=A.pos.config.weekDayNames[t]||t;n.appendChild(A.utils.createElement("td",null,i)),n.appendChild(A.utils.createElement("td",null,A.pos.config.messages.closed)),e.appendChild(n)}else for(var o=0;o<a.length;o++){if(A.pos.currentDayIndex===t)var n=A.utils.createElement("tr",{"class":"today"});else var n=A.utils.createElement("tr");var i=A.pos.config.weekDayNames[t]||t;n.appendChild(A.utils.createElement("td",null,0===o?i:"")),n.appendChild(A.utils.createElement("td",null,a[o].start+" - "+a[o].end)),e.appendChild(n)}},A.pos.createDistanceEl=function(e){var t=e.distance<A.pos.METERS_IN_KM?parseInt(e.distance)+A.pos.config.messages.meters:(e.distance/A.pos.METERS_IN_KM).toFixed(1)+A.pos.config.messages.kilometers;return A.utils.createElement("span",{"class":"pos-address--distance"},'<i class="icon-auchan-62"></i>'+t)},A.pos.createChooseElement=function(e){var t={type:"button","class":"pos--choice ui-btn xs border-gray",onclick:"dataLayer.push({'event-category':'fiche_produit','event-action':'popin_changer_de_magasin','event-label':'"+e.properties.name.replace("'","\\'")+" "+e.properties.store_id+"','event':'clickEvent'});"};return A.utils.isTrue(A.pos.isChoiceButtonDisabledByDefault)&&(t.disabled="disabled"),null!=A.context.store&&A.context.store.storeId==e.properties.store_id?t["class"]+=" no":t["class"]+=" choose",A.utils.createElement("button",t,A.pos.getChoiceButtonLabel())},A.pos.getChoiceButtonLabel=function(){return A.pos.config.messages.choose},A.pos.createMadeItMyFavoriteEl=function(e){if(null!=e&&e.types.indexOf("Store")!=-1){var t=A.utils.createElement("div",{"class":"pos--choiceContainer"});t.appendChild(A.utils.createElement("i",{"class":"icon-auchan-122 red-txt"})),t.appendChild(A.utils.createElement("span",{"class":"c-s"},A.pos.config.messages.madeIt+" "+e.name)),t.appendChild(A.utils.createElement("span",{"class":"bold c-s"},A.pos.config.messages.myFavoriteStore));var a=A.utils.createElement("div",{"class":"pos--choiceButtons"});return a.appendChild(A.utils.createElement("button",{"class":"ui-btn border-gray no xs pos--choice"},A.pos.config.messages.noThanks)),a.appendChild(A.utils.createElement("button",{"class":"ui-btn red yes xs pos--choice",onclick:"dataLayer.push({'event-category':'fiche_produit','event-action':'popin_h+x_changer_de_magasin','event-label':'ce_magasin_est_mon_favori','event':'clickEvent'});"},A.pos.config.messages.yes)),t.appendChild(a),t.appendChild(A.utils.createElement("div",{"class":"pos--choiceDisclaimer c-s row"},A.pos.config.messages.madeItMyFavoriteDisclaimer)),t}},A.pos.createInformationsEl=function(e){var t=A.utils.createElement("div",{"class":"pos-address--informations"}),a=A.utils.isTrue("CHECKOUTDELIVERY"==A.configuration.pageType)?"checkout":"fiche_produit";if(null!=e&&null!=e.properties){var n=A.utils.createElement("div",{"class":"pos-address--informations-hours"});n.appendChild(A.utils.createElement("input",{type:"checkbox",id:"schedules-"+e.properties.store_id,"class":"hidden"})),n.appendChild(A.utils.createElement("label",{"for":"schedules-"+e.properties.store_id,"class":"pos-address--toggle-schedules",onclick:"dataLayer.push({'event-category':'"+a+"','event-action':'popin_changer_de_magasin','event-label':'voir_les_horaires','event':'clickEvent'});"},A.pos.config.messages.schedule+'<i class="icon-auchan-18 c-l"></i>')),n.appendChild(A.pos.createScheduleElement(e));var i=A.utils.createElement("div",{"class":"pos-address--choice-container"});i.appendChild(A.pos.createChooseElement(e)),t.appendChild(n),t.appendChild(i)}return t},A.pos.createAddressEl=function(e){var t;if(null!=e&&null!=e.address){t=A.utils.createElement("div",{"class":"pos-address--address"});var a=A.utils.createElement("span",null,e.address.lines+"\n"+e.address.zipcode+" "+e.address.city),n=A.pos.createDistanceEl(e);t.appendChild(a),t.appendChild(n)}return t},A.pos.createStoreRegistryEntry=function(e){var t=e.properties,a=A.utils.createElement("div",{"class":"pos-address--item pos--container","data-sid":t.store_id,"data-is-store":t.types.indexOf("Store")!=-1});if("function"==typeof A.pos.createModuleActionEl){var n=A.pos.createModuleActionEl.call(null,t);null!=n&&a.appendChild(n)}if(A.utils.isTrue(A.pos.displayStoreFavoriteChoice)){var i=A.pos.createMadeItMyFavoriteEl(t);null!=i&&a.appendChild(i)}if("function"==typeof A.pos.createStoreNameEl){var o=A.pos.createStoreNameEl.call(null,t);null!=o&&a.appendChild(o)}if("function"==typeof A.pos.createCarrierEl){var l=A.pos.createCarrierEl.call(null,t);null!=l&&a.appendChild(l)}if("function"==typeof A.pos.createAddressEl){var s=A.pos.createAddressEl.call(null,t);null!=s&&a.appendChild(s)}if("function"==typeof A.pos.createHeadlineSubTitleEl){var r=A.pos.createHeadlineSubTitleEl.call(null,t);null!=r&&a.appendChild(r)}if("function"==typeof A.pos.createOpenTodayElement){var c=A.pos.createOpenTodayElement.call(null,e);null!=c&&a.appendChild(c)}if("function"==typeof A.pos.createInformationsEl){var u=A.pos.createInformationsEl.call(null,e);null!=u&&a.appendChild(u)}return a},A.pos.updateStoreRegistryEntry=function(e,t){var a=e.properties,n=A.utils.qs(".pos-address--name",{parent:t});if(null!==n){var i=A.utils.qs(".order",{parent:n});null!==i&&(i.innerText=a.storeOrder)}var o=A.pos.createDistanceEl(a),l=A.utils.qs(".pos-address--address",{parent:t}),s=A.utils.qs(".pos-address--distance",{parent:l,cache:!1});return l.replaceChild(o,s),t},A.pos.displayStores=function(){A.pos.stores=A.woosmap.stores;var e=A.utils.qs(".pos-store",{cache:!1}),t=A.utils.qs("#pos-store--container",{cache:!1}),a=A.utils.qs(".pos-filter--container",{cache:!1}),n=A.utils.qs("#pos-nostore--container",{cache:!1});if(null!=e&&null!=t&&null!=a&&null!=n){t.innerText="";var i=A.utils.qs("#openOnSunday",{cache:!1});if(null!=i&&A.utils.isTrue(i.checked)&&(A.pos.stores=A.pos.stores.filter(function(e){var t=e.properties.opening_hours.usual[7];return"undefined"!=typeof t&&t.length>0})),A.pos.sortStoreList(),A.pos.stores.length>0){n.classList.add("hidden");for(var o=0;o<A.pos.stores.length;o++)t.appendChild(A.pos.storeRegistry[A.pos.stores[o].properties.store_id]);a.classList.remove("hidden"),e.classList.remove("hidden"),t.classList.remove("hidden")}else n.classList.remove("hidden"),e.classList.add("hidden"),t.classList.add("hidden"),a.classList.add("hidden")}},A.pos.cleanupCrappyWoosmapData=function(){A.woosmap.stores.forEach(function(e){var t={};for(var a in e.properties.opening_hours.special){var n=new Date(a);n<A.pos.now||(t[n.formatDate()]=e.properties.opening_hours.special[a])}e.properties.opening_hours.special=t;var i=e.properties.address.lines;"string"==typeof i&&(e.properties.address.lines=i.replace(/\[/g,"").replace(/\]/g,""))})},A.pos.handleStoresListUpdate=function(){var e={};if(null!=A.woosmap.stores){A.pos.cleanupCrappyWoosmapData(),A.woosmap.stores.forEach(function(t){t.properties.storeOrder=Object.keys(e).length+1;var a=t.properties.store_id,n=A.pos.storeRegistry[a];e[a]=null!=n?A.pos.updateStoreRegistryEntry(t,n):A.pos.createStoreRegistryEntry(t)});var t=A.utils.qs(".pos-filter--qty-store span",{cache:!1});null!=t&&(t.innerText=A.woosmap.stores.length)}A.pos.storeRegistry=A.utils["extends"](A.pos.storeRegistry,e),A.pos.displayStores()},A.pos.handleBrowserGeolocation=function(){var e=A.utils.qs('.pos--search input[type="text"][name="address"]',{cache:!1});null!=e&&(e.value="",e.setAttribute("placeholder",A.pos.config.messages.myLocation)),A.woosmap.geoLocateUser()},A.pos.handleAddressInputFocus=function(){var e=A.utils.qs('.pos--search input[type="text"][name="address"]',{cache:!1});null!=e&&e.setAttribute("placeholder",A.pos.config.messages.placeholder)},A.pos.handleGeocodingRequest=function(){var e=A.utils.qs('.pos--search input[type="text"][name="address"]',{cache:!1});null!=e&&A.woosmap.geoCodeAddress(e.value.trim())},A.pos.handleAddressFieldUpdate=function(e){if(13===e.keyCode){A.pos.handleGeocodingRequest();var t=A.utils.qs('.pos--search input[type="text"][name="address"]',{cache:!1});null!=t&&t.blur()}},A.pos.sortStoreList=function(){var e=A.utils.qs("#sortList option:checked",{cache:!1}),t=null!=e?e.value:"closest",a=A.pos.sortStrategies[t];null!=a&&A.pos.stores.sort(a)},A.pos.handleChoiceButtonClick=function(e){if(e.matchingTarget.matches(".choose")){var t=A.utils.closest(e.matchingTarget,".pos--container");if(null!=t&&A.utils.isTrue(A.pos.displayStoreFavoriteChoice)&&A.utils.isTrue(t.dataset.isStore)){e.stopPropagation();var a=A.utils.qs(".pos--choiceContainer",{parent:t});null!=a&&(a.classList.add("active"),t.classList.remove("selected"),t.classList.add("no-border"))}}},A.pos.handleStoreSelected=function(e){for(var t=0;t<A.pos.stores.length;t++)if(A.pos.stores[t].properties.store_id===e.matchingTarget.dataset.sid){A.woosmap.selectStore(A.pos.stores[t]);break}},A.pos.init=function(){A.events.add(document,"focus",A.pos.handleAddressInputFocus,'input[type="text"][name="address"]'),A.events.add(document,"click",A.pos.handleGeocodingRequest,"#update"),A.events.add(document,"keypress",A.pos.handleAddressFieldUpdate,'input[type="text"][name="address"]'),A.events.add(document,"click",A.pos.handleBrowserGeolocation,"#geolocation"),A.events.add(document,"change",A.pos.displayStores,"#sortList"),A.events.add(document,"change",A.pos.displayStores,"#openOnSunday"),A.events.add(document,"click",A.pos.handleChoiceButtonClick,".pos--choice"),A.events.add(document,"woosmapStoresUpdate",A.pos.handleStoresListUpdate),A.events.add(document,"click",A.pos.handleStoreSelected,".pos-address--item"),document.dispatchEvent(new CustomEvent("posInitialized"))},A.module.add(["utilsInitialized","woosmapInitialized"],A.pos.init);var A=A||{};A.scroll=A.scroll||{},A.scroll.lastScrollY=0,A.scroll.directions={UP:0,DOWN:1},A.scroll.lastDirection=null,A.scroll.scrollHandlersSettings=[],A.scroll.enabled=!0,A.scroll.defaultSettings={scrollStartPosition:0,scrollStopPosition:-1,isInProgress:!1},A.scroll.enableScroll=function(){A.scroll.enabled=!0},A.scroll.disabledScroll=function(){A.scroll.enabled=!1;for(var e=A.scroll.scrollHandlersSettings.length;e--;)A.scroll.scrollHandlersSettings[e].isInProgress&&(A.scroll.scrollHandlersSettings[e].isInProgress=!1,"function"==typeof A.scroll.scrollHandlersSettings[e].stopScrollHandler&&A.scroll.scrollHandlersSettings[e].stopScrollHandler.call(A.scroll.scrollHandlersSettings[e]))},A.scroll.addScrollHandler=function(e){null!=e&&"function"==typeof e.handler&&(A.scroll.scrollHandlersSettings.push(A.utils["extends"](A.scroll.defaultSettings,e)),A.scroll.evaluateActionForIndex(A.scroll.scrollHandlersSettings.length-1))},A.scroll.updateScrollHandler=function(e){if(null!=e&&"function"==typeof e.handler)for(var t=A.scroll.scrollHandlersSettings.length;t--;)A.scroll.scrollHandlersSettings[t].handler===e.handler&&(A.scroll.scrollHandlersSettings[t]=A.utils["extends"](A.scroll.scrollHandlersSettings[t],e))},A.scroll.removeScrollHandlersForHandler=function(e){if(null!=e&&"function"==typeof e){for(var t=[],a=A.scroll.scrollHandlersSettings.length;a--;)A.scroll.scrollHandlersSettings[a].handler!==e?t.push(A.scroll.scrollHandlersSettings[a]):A.scroll.scrollHandlersSettings[a].isInProgress&&"function"==typeof A.scroll.scrollHandlersSettings[a].stopScrollHandler&&A.scroll.scrollHandlersSettings[a].stopScrollHandler.call(A.scroll.scrollHandlersSettings[a]);A.scroll.scrollHandlersSettings=t}},A.scroll.evaluateActionForIndex=function(e,t,a){var n=A.scroll.currentScrollY>A.scroll.scrollHandlersSettings[e].scrollStartPosition&&(A.scroll.scrollHandlersSettings[e].scrollStopPosition==-1||A.scroll.currentScrollY<A.scroll.scrollHandlersSettings[e].scrollStopPosition);n?(A.utils.isTrue(a)&&"function"==typeof A.scroll.scrollHandlersSettings[e].directionChangeHandler&&A.scroll.scrollHandlersSettings[e].directionChangeHandler.call(A.scroll.scrollHandlersSettings[e]),A.scroll.scrollHandlersSettings[e].isInProgress||(A.scroll.scrollHandlersSettings[e].isInProgress=!0,A.scroll.scrollHandlersSettings[e].handler.call(A.scroll.scrollHandlersSettings[e],t))):A.scroll.scrollHandlersSettings[e].isInProgress&&(A.scroll.scrollHandlersSettings[e].isInProgress=!1,"function"==typeof A.scroll.scrollHandlersSettings[e].stopScrollHandler&&A.scroll.scrollHandlersSettings[e].stopScrollHandler.call(A.scroll.scrollHandlersSettings[e]))},A.scroll.handleScroll=function(e){A.scroll.currentScrollY=A.utils.getScroll("Y");var t=A.scroll.directions.DOWN;A.scroll.currentScrollY<A.scroll.lastScrollY&&(t=A.scroll.directions.UP);var a=t!=A.scroll.lastDirection;if(A.scroll.lastDirection=t,A.scroll.enabled)for(var n=A.scroll.scrollHandlersSettings.length;n--;)A.scroll.evaluateActionForIndex(n,e,a);A.scroll.lastScrollY=A.scroll.currentScrollY},A.scroll.init=function(){A.events.add(window,"scroll",A.scroll.handleScroll),document.dispatchEvent(new CustomEvent("scrollInitialized"))},A.module.add(["DOMContentLoaded"],A.scroll.init);var A=A||{};A.scrollPosition=A.scrollPosition||{},A.scrollPosition.HASH_PREFIX="s=",A.scrollPosition.handleHashChange=function(e,t){if(A.utils.isTrue(t)){var a=parseInt(e);null!=a&&(document.body.scrollTop=a)}},A.scrollPosition.init=function(){A.hashmanager.addHandler(A.scrollPosition.HASH_PREFIX,A.scrollPosition.handleHashChange),document.dispatchEvent(new CustomEvent("scrollPositionInitialized"))},A.module.add(["hashmanagerInitialized"],A.scrollPosition.init);var A=A||{};A.sso=A.sso||{},A.sso.handleUserSignOnRequest=function(){var e=A.utils.getCookie(A.sso.config.ssoCookieName);null!=e?(A.sso.validateSsoToken(e),A.utils.setCookie(A.sso.config.ssoCookieName,"",0)):A.sso.extendSsoToken()},A.sso.validateSsoToken=function(e,t){var a={"Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Headers":"ssotoken,Set-Cookie","Access-Control-Allow-Methods":"GET"};null!=e&&(a.ssotoken=e),A.utils.get({url:A.sso.config.validateSsoTokenUrl,dataType:"json",headers:a,xhrFields:{withCredentials:!0},crossDomain:!0,success:t})},A.sso.extendSsoToken=function(){var e=A.utils.getCookie(A.sso.config.noSsoCookieName);null!=e&&A.utils.isReferringItSelf()||A.utils.get({dataType:"json",url:A.sso.config.extendSsoTokenUrl,success:function(e){null!=e&&(e.reload?A.sso.reloadContext():e.logged||A.sso.validateSsoToken(null,A.sso.validateAuthTokenRequest))}})},A.sso.validateAuthTokenRequest=function(e){null!=e&&A.utils.get({url:A.sso.config.validateAuthTokenUrl+e.authToken,success:function(e){A.utils.isTrue(e)&&A.sso.reloadContext()}})},A.sso.reloadContext=function(){A.sso.config.pagesNotToReload.indexOf(A.configuration.pageType)>-1?document.dispatchEvent(new CustomEvent("authenticationUpdated")):location.reload()},A.sso.init=function(){null!=A.sso.config&&A.utils.isTrue(A.sso.config.enabled)&&(A.sso.handleUserSignOnRequest(),document.dispatchEvent(new CustomEvent("ssoInitialized")))},A.module.add(["utilsInitialized"],A.sso.init);var A=A||{};A.storage=A.storage||{},A.storage.availability={},A.storage.TYPES={SESSION:1,LOCAL:2},A.storage.isAvailable=function(e){if(null!=e){if("undefined"==typeof A.storage.availability[e]){var t="isSupported",a=!1,n=A.storage.getStorage(e);try{"undefined"!=typeof n?(n.setItem(t,"1"),n.removeItem(t),a=!0):a=!1}catch(i){a=!1}return A.storage.availability[e]=a,a}return A.utils.isTrue(A.storage.availability[e])}return!1},A.storage.getStorage=function(e){return A.storage.TYPES.LOCAL==e?window.localStorage:A.storage.TYPES.SESSION==e?window.sessionStorage:null},A.storage.set=function(e,t,a){a=a||A.storage.TYPES.SESSION;var n=A.storage.getStorage(a);return!(null==n||null==e||!A.storage.isAvailable(a))&&(n.setItem(e,JSON.stringify(t)),!0)},A.storage.remove=function(e,t){t=t||A.storage.TYPES.SESSION;var a=A.storage.getStorage(t);return!(null==a||null==e||!A.storage.isAvailable(t))&&(a.removeItem(e),!0);
},A.storage.get=function(e,t){t=t||A.storage.TYPES.SESSION;var a=A.storage.getStorage(t);if(null!=a&&null!=e&&A.storage.isAvailable(t)){var n=a.getItem(e);if(null!=n)return JSON.parse(n)}return null},A.storage.init=function(){document.dispatchEvent(new CustomEvent("storageInitialized"))},A.module.add(["DOMContentLoaded"],A.storage.init);var A=A||{},_t2sparams=_t2sparams||{};A.target2sell=A.target2sell||{},A.target2sell.config=A.target2sell.config||null,A.target2sell.init=function(){if(null!=A.target2sell.config){_t2sparams=A.utils["extends"](_t2sparams,A.target2sell.config._t2sparams);var e=document.querySelectorAll(".product-target2sell--container, .product-crosssell--container:not([data-third-party='HOOKLOGIC']):not([data-html-content-component])");if(e.length>0&&"undefined"==typeof window.T2S&&null!=A.target2sell.config){window.userConsent=function(){return"3"===A.utils.getCookie("auchan.consentCookie")},A.target2sell.updateT2SVariables(e,_t2sparams);var t="//"+("https:"===document.location.protocol?A.target2sell.config.target2sellSecureApiUrl:A.target2sell.config.target2sellApiUrl);A.utils.loadExternalScript(t,{onSuccess:function(){T2S.reco()}})}document.dispatchEvent(new CustomEvent("target2sellInitialized"))}},A.target2sell.updateT2SVariables=function(e,t){A.target2sell.updateUserRelatedVariables(t);var a=A.target2sell.getCartVariables();t.bP=a.products.join("|");var n=A.configuration.pageType,i=e.length>0&&null!=e[0].id?e[0].id.match(t.cID+"-([0-9]+)-[0-9]+"):null;switch(t.pID=null!=i&&2===i.length?i[1]:"2200",n){case"PRODUCT":t.iID=A.configuration.productCode;break;case"CATEGORY":t.iID=_typeof(A.target2sell.config.productList===[])?A.target2sell.config.productList.join("|"):"",t.aID=A.target2sell.config.category,t.q=A.target2sell.config.freeTextSearch;break;case"CART":case"ADDTOCARTCONFIRMATION":t.bS=a.bS,t.iID=a.products.join("|"),t.qTE=a.quantities.join("|");break;case"ORDERCONFIRMATION":break;case"PRODUCTSEARCH":t.iID=_typeof(A.target2sell.config.productList===[])?A.target2sell.config.productList.join("|"):"",t.q=A.target2sell.config.freeTextSearch}},A.target2sell.getCartVariables=function(){var e=A.context.cart,t={products:[],quantities:[]};return null!=e&&null!=e.entries&&(e.entries.forEach(function(e){t.products.push(e.offer.product.code),t.quantities.push(e.quantity)}),null!=e.totalPrice&&null!=e.totalPrice.value?t.bS=e.totalPrice.value.toString():t.bS="0"),t},A.target2sell.updateUserRelatedVariables=function(e){e.uID=A.context.user&&A.context.user.identified?A.context.user.id:"",e.uEM=A.context.user&&A.context.user.identified?A.context.user.id:""},A.module.add(["loggerInitialized","hamonInitialized","analyticsInitialized","utilsInitialized"],A.target2sell.init);var A=A||{};A.ui=A.ui||{},A.ui.backToTop=function(){A.events.add(document,"click",function(){window.scrollTo(0,0)},".backToTop")},A.ui.rollingMessages=function(){var e=A.utils.qsAll(".rollingMessages");e.length>0&&e.forEach(function(e){var t=A.utils.qs("ul",{parent:e}).dataset.duration,a=A.utils.qsAll("li",{parent:e});if(null!=t&&null!=a){var n=a.length-1,i=1;setInterval(function(){a.forEach(function(e){e.classList.remove("active")}),a[i].classList.add("active"),i<n?i++:i=0},t)}})},A.ui.errorScroller=function(){var e=A.utils.qs(".error");null!=e&&window.scrollTo(0,e.getBoundingClientRect().top-window.innerHeight/2+e.offsetHeight/2)},A.ui.scrollCommercialEntries=function(){var e=A.utils.qs(".shp-entries--button"),t=A.utils.qs(".shp-entries");null!=e&&null!=t&&(e.classList.toggle("open"),e.classList.contains("open")||t.scrollIntoView(!0))},A.ui.handleDetailsSummaryBehaviour=function(e){e.preventDefault()},A.ui.toggleFakeLabelInputState=function(e){if(e&&e.dataset&&e.dataset["for"]){var t=A.utils.qs("#"+e.dataset["for"]);if(null!=t)return t.checked=!t.checked,A.events.trigger("change",t,document),t.checked}return!1},A.ui.handleFakeLabelsCLicks=function(e){return e.preventDefault(),e.stopPropagation(),A.ui.toggleFakeLabelInputState(e.matchingTarget)},A.ui.init=function(){A.ui.backToTop(),A.ui.rollingMessages(),A.ui.errorScroller(),A.events.add(document,"click",A.ui.handleFakeLabelsCLicks,".fake-label"),A.events.add(document,"click",A.ui.scrollCommercialEntries,".shp-entries--button"),A.events.add(document,"click",A.ui.handleDetailsSummaryBehaviour,"summary"),document.dispatchEvent(new CustomEvent("uiInitialized"))},A.module.add(["DOMContentLoaded","visibilityInitialized","utilsInitialized"],A.ui.init);var A=A||{};A.utils=A.utils||{},A.utils.INLINE_SCRIPT_PATTERN=/<script\b[^>]*>([\s\S]*?)<\/script>/gm,A.utils.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,A.utils.shouldDisplayLoader=function(e){return"undefined"!=typeof e&&null!=e&&e},A.utils.defaultAjaxConfig={url:null,success:null,error:null,dataType:"html",loader:!1,cacheable:!0,timeout:null,method:"GET",data:null,evalScripts:!1,triggerDomUpdate:!1,serialize:!0,async:!0},A.utils.defaultQuerySelectorConfig={parent:document,cache:!0,cacheOnNull:!0,clear:!1},A.utils.globalDomRegistry={},A.utils.get=function(e){e=e||{},e.method="GET",A.utils.ajax(e)},A.utils.post=function(e){e=e||{},e.method="POST",A.utils.ajax(e)},A.utils.ajax=function(e){var e=A.utils["extends"](A.utils.defaultAjaxConfig,e);e.url.indexOf("//")!=-1&&e.url.indexOf("//"+document.domain)==-1||(e=A.utils["extends"](e,{headers:{"X-Requested-With":"XMLHttpRequest"}})),null!=e.data&&(A.utils.isTrue(e.serialize)&&(e.data=A.utils.buildUriParams(e.data)),"GET"===e.method?(e.url+="?"+e.data,e=A.utils["extends"](e,{headers:{"Content-Type":"application/json"}}),delete e.data):"POST"===e.method&&("undefined"!=typeof e.headers&&"undefined"!=typeof e.headers["Content-Type"]||(e=A.utils["extends"](e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}))));var t=A.utils.innerAjax(e);null!=t&&t.send(e.data)},A.utils.ajaxPost=function(e,t){null!=e&&(t=t||{},t.url=t.url||e.action,t.data=A.utils.getFormValues(e),A.utils.post(t))},A.utils.handleAjaxError=function(e,t){"function"==typeof t.error&&t.error(e),A.utils.isTrue(t.loader)&&A.utils.spinner("hide")},A.utils.innerAjax=function(e){if(A.utils.isTrue(e.loader)&&A.utils.spinner("show"),null!=e.beforeSend&&e.beforeSend(),null!=e.url){if(!A.utils.isTrue(e.cacheable)){var t="t="+(new Date).getTime();e.url.indexOf("?")===-1?e.url=e.url+"?"+t:e.url=e.url+"&"+t}var a=new XMLHttpRequest;if(a.onload=function(){A.utils.handleAjaxReponse(a,e)},a.onerror=function(){A.utils.handleAjaxError(a,e)},a.open(e.method,e.url,A.utils.isTrue(e.async)),null!=e.timeout&&(a.timeout=e.timeout,a.ontimeout=function(){A.utils.handleAjaxError(a,e)}),"json"===e.dataType&&(e.headers=e.headers||{},e.headers.Accept="application/json"),null!=e.headers)for(var n in e.headers)a.setRequestHeader(n,e.headers[n]);if(null!=e.xhrFields)for(var n in e.xhrFields)a[n]=e.xhrFields[n];return a}return null},A.utils.handleAjaxReponse=function(e,t){if(4===e.readyState){if(e.status>=200&&e.status<=299){var a=null;if(null!=e.responseText&&e.responseText.length>0)if("json"===t.dataType)try{a=JSON.parse(e.responseText)}catch(n){return"function"==typeof t.error&&t.error(e),void(A.utils.isTrue(t.loader)&&A.utils.spinner("hide"))}else{a=e.responseText,A.utils.lastAjaxResponseText=a;for(var i;i=A.utils.INLINE_SCRIPT_PATTERN.exec(a);)a=a.replace(i[0],"");A.utils.isTrue(t.evalScripts)&&setTimeout(function(){for(var e;e=A.utils.INLINE_SCRIPT_PATTERN.exec(A.utils.lastAjaxResponseText);)window.eval(e[1]);A.utils.lastAjaxResponseText=null},100)}"function"==typeof t.success&&t.success(a,e),A.utils.isTrue(t.triggerDomUpdate)&&document.dispatchEvent(new CustomEvent("DOMUpdate"))}else 401===e.status?window.location.reload():"function"==typeof t.error&&t.error(e);A.utils.isTrue(t.loader)&&A.utils.spinner("hide")}},A.utils.buildUriParams=function(e,t){function a(e,t,a,n){return"object"===_typeof(t[a])?(e.length&&(e+="&"),e+=A.utils.buildUriParams(t[a],n)):"function"!=typeof t[a]&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[a])),e}e=e||{};var n,i="";if("undefined"==typeof t&&(t=""),Array.isArray(e))for(var o=0;o<e.length;o++){var l=t+"["+o+"]";i=a(i,e,o,l)}else for(n in e){var l=t.length>0?t+"."+n:n;i=a(i,e,n,l)}return i},A.utils.getFormValues=function(e){var t,a={};t=[].filter.call(e.elements,function(e){var t="checkbox"!==e.type&&"radio"!==e.type||e.checked;return t}).filter(function(e){return!!e.name});for(var n=0;n<t.length;n++)a[t[n].name]=t[n].value;return a},A.utils.spinner=function(e){"show"===e?requestAnimationFrame(function(){document.querySelector("#spinner").classList.add("active")}):requestAnimationFrame(function(){document.querySelector("#spinner").classList.remove("active")})},A.utils.addLoaderOnElement=function(e){var t=A.utils.qs("#spinner");if(null!=t){var a=t.cloneNode(!0);a.removeAttribute("id"),a.classList.add("active","spinner--layer"),null!=e&&e.appendChild(a)}},A.utils.removeLoaderOnElement=function(e){if(null!=e){var t=A.utils.qs(".spinner--layer",{parent:e});null!=t&&t.remove()}},A.utils.isTrue=function(e){return"undefined"!=typeof e&&null!=e&&(1==e||"true"==e)},A.utils.loadExternalScript=function(e,t){var a=t.onSuccess||function(){},n=t.onTimeout||function(){A.logger.error("Cannot load external script from url: "+e)},i=t.timeout||10,o=window.setTimeout(function(){n()},1e3*i),l=document.createElement("script");l.type="text/javascript",l.src=e,l.async=!0,l.onload=l.onreadystatechange=function(e){l.readyState&&!/loaded|complete/.test(l.readyState)||(l.onload=l.onreadystatechange=null,window.clearTimeout(o),a(e))};var s=A.utils.qs("head");null!=s&&s.appendChild(l)},A.utils.buildUrl=function(e,t){var a="";if(null!=e&&(a+=e),"undefined"!=typeof t)for(var n in t)a+=(null!=a.match(/.*\?.*/)?"&":"?")+n+"="+t[n];return a},A.utils.getRequestParam=function(e){return(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(location.search))?decodeURIComponent(e[1]):null},A.utils.isReferringItSelf=function(){function e(e){return 0==e.indexOf("http://")?e=e.substring(7):0==e.indexOf("https://")&&(e=e.substring(8)),e=e.toLowerCase()}var t=document.referrer;if(null==t||0==t.length)return!1;t=e(t);var a=document.domain;return null!=a&&0!=a.length&&(a=e(a),0==t.indexOf(a))},A.utils.escapeString=function(e){return null!=e?e.replace(/'/g,"\\'"):""},A.utils.getImageFallback=function(e){null!=e&&(e.onerror=null,e.src=e.dataset.srcFallback)},A.utils.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},A.utils.setCookie=function(e,t,a,n){if(null!=e){t=t||"";var i="; path="+(n||"/");if(A.utils.isNumeric(a))var o=a>0?new Date((new Date).getTime()+24*a*60*60*1e3):new Date(a),l="; expires="+o.toUTCString();else var l="";document.cookie=e+"="+t+l+i+"; domain="+(A.configuration.cookieDomain||"")}},A.utils.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},A.utils.createElement=function(e,t,a,n){var i=document.createElement(e.toString());return!!t&&Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),"string"==typeof a&&(i.innerHTML=a),A.utils.appendChilds(i,n),i},A.utils.createText=function(e){return document.createTextNode(e)},A.utils["extends"]=function(e,t,a){a=a||!1;var n;if(null!=e&&(n=A.utils["extends"](null,e)),"undefined"!=typeof t)if(Array.isArray(t))Array.isArray(n)?Array.prototype.push.apply(n,t):n=t.slice();else if("[object Object]"===Object.prototype.toString.call(t)||"[object DOMStringMap]"===Object.prototype.toString.call(t)){"[object Object]"!==Object.prototype.toString.call(n)&&(n={});for(var i in t)0!=a&&null==t[i]||(n[i]=A.utils["extends"](n[i],t[i]))}else n=t;return n},A.utils.copy=function(e,t){return A.utils["extends"](null,e,t)},A.utils.appendChilds=function(e,t){"undefined"!=typeof e&&Array.isArray(t)&&t.forEach(function(t){e.appendChild(t)})},A.utils.setChilds=function(e,t){e.innerText="",A.utils.appendChilds(e,t)},A.utils.isInViewport=function(e){var t=e.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},A.utils.closest=function(e,t){if(null!=e&&null!=t)for(var a=e.parentElement;null!=a&&"BODY"!==a.tagName;){if(a.matches(t))return a;a=a.parentElement}return null},A.utils.getOffset=function(e,t){var a=0;return null!=e&&(a+=e.getBoundingClientRect().top+(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),"bottom"==t&&(a+=e.getBoundingClientRect().height)),a},A.utils.getRelativeOffset=function(e,t,a){var n=0;return null!=e&&null!=t&&(n+=e.offsetTop-t.offsetTop,"bottom"==a&&(n+=e.getBoundingClientRect().height)),n},A.utils.animate=function(e,t,a){function n(e){for(var t in e)"number"==typeof e[t]?e[t]=parseInt(e[t]):"object"===_typeof(e[t])&&n(e[t])}function i(e,t,a){if(null!=e&&null!=t)for(var n in t)if("undefined"!=typeof e[n]){var o=t[n],l=e[n];if("object"===("undefined"==typeof o?"undefined":_typeof(o)))i(l,o,a);else{var s=o-l,r=parseInt(s/a*10);e[n]=l+r}}}function o(e,t,a){a>0?(i(e,t,a),setTimeout(function(){o(e,t,a-10)},10)):null!=t.callback&&t.callback()}if(null!=e&&null!=t){var l=[],s=Object.prototype.toString.call(e);"[object String]"===s?l=A.utils.qsAll(e,t):l.push(e),l.length>0&&(a=a||300,n(t),l.forEach(function(e){o(e,t,a)}))}},A.utils.findInDomRegistry=function(e,t){if(Array.isArray(e))for(var a=e.length;--a>=0;)if(e[a].parent===t)return e[a].result},A.utils.clearInDomRegistry=function(e,t){if(Array.isArray(e))for(var a=e.length;--a>=0;)if(e[a].parent===t){e.splice(a,1);break}},A.utils.qs=function(e,t){var a=A.utils["extends"](A.utils.defaultQuerySelectorConfig,t);if(null!=a.parent&&null!=e){A.utils.globalDomRegistry["qs_"+e]=A.utils.globalDomRegistry["qs_"+e]||[];var n;if(A.utils.isTrue(a.clear)?A.utils.clearInDomRegistry(A.utils.globalDomRegistry["qs_"+e],a.parent):n=A.utils.findInDomRegistry(A.utils.globalDomRegistry["qs_"+e],a.parent),!A.utils.isTrue(a.cache)||"undefined"==typeof n){var i=a.parent.querySelector(e);return(null!=i||A.utils.isTrue(a.cacheOnNull))&&A.utils.isTrue(a.cache)&&A.utils.globalDomRegistry["qs_"+e].push({parent:a.parent,result:i}),i}return n}return null},A.utils.qsAll=function(e,t){var a=A.utils["extends"](A.utils.defaultQuerySelectorConfig,t);if(null!=a.parent&&null!=e){A.utils.globalDomRegistry["qsAll_"+e]=A.utils.globalDomRegistry["qsAll_"+e]||[];var n;if(A.utils.isTrue(a.clear)?A.utils.clearInDomRegistry(A.utils.globalDomRegistry["qsAll_"+e],a.parent):n=A.utils.findInDomRegistry(A.utils.globalDomRegistry["qsAll_"+e],a.parent),!A.utils.isTrue(a.cache)||"undefined"==typeof n){var i=a.parent.querySelectorAll(e);return A.utils.isTrue(a.cache)&&A.utils.globalDomRegistry["qsAll_"+e].push({parent:a.parent,result:i}),i}return n}return[]},A.utils.addPrefetch=function(e){if(null!=e&&(A.utils.prefetchRegistry=A.utils.prefetchRegistry||[],A.utils.prefetchRegistry.indexOf(e)===-1)){var t=A.utils.qs("head");null!=t&&t.appendChild(A.utils.createElement("link",{rel:"prefetch",href:e}))}},A.utils.getScroll=function(e){return null!=e?window["scroll"+e]||window["page"+e+"Offset"]:null},A.utils.addObserverAndTriggerEvent=function(e,t){var a=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.length>0&&document.dispatchEvent(new CustomEvent(t))})}),n={attributes:!0,childList:!0,characterData:!0};return a.observe(e,n),a},A.utils.handleSingleClick=function(e){e.matchingTarget.classList.add("no-event")},A.utils.executeFunctionByName=function(e,t){for(var a=Array.prototype.slice.call(arguments,2),n=e.split("."),i=n.pop(),o=0;o<n.length;o++)t=t[n[o]];return t[i].apply(t,a)},A.utils.formatCurrency=function(e,t,a){var n="";if(null!=t&&null!=a){var i=new Intl.NumberFormat(t,{style:"currency",currency:a});null!=e&&(n=i.format(e).replace(",00",""))}return n},A.utils.getInnerText=function(e){var t=e.innerText;return null!=e?""!=t?t:e.textContent:null},A.utils.init=function(){document.dispatchEvent(new CustomEvent("utilsInitialized")),A.events.add(document,"click",A.utils.handleSingleClick,".once")},A.module.add(["DOMContentLoaded","visibilityInitialized"],A.utils.init);var A=A||{};A.visibility=A.visibility||{},A.visibility.isHidden=function(){return document.hidden||!1},A.visibility.handleVisibilityChange=function(){A.visibility.isHidden()||(document.dispatchEvent(new CustomEvent("visibilityInitialized")),A.events.remove(document,"visibilitychange",A.visibility.handleVisibilityChange))},A.visibility.init=function(){if(A.visibility.isHidden())A.events.add(document,"visibilitychange",A.visibility.handleVisibilityChange);else{var e=new CustomEvent("visibilityInitialized");document.dispatchEvent(e)}},A.module.add(["DOMContentLoaded"],A.visibility.init);var A=A||{};A.vouchers=A.vouchers||{},A.vouchers.HASH_PREFIX="jv=",A.vouchers.addJokerVoucher=function(e){null!=e&&A.utils.post({url:A.vouchers.config.url,data:{voucherCode:e}})},A.vouchers.handleHashChange=function(e,t){A.utils.isTrue(t)&&A.vouchers.addJokerVoucher(e)},A.vouchers.init=function(){"undefined"!=typeof A.vouchers.config&&A.hashmanager.addHandler(A.vouchers.HASH_PREFIX,A.vouchers.handleHashChange),document.dispatchEvent(new CustomEvent("vouchersInitialized"))},A.module.add(["utilsInitialized","hashmanagerInitialized"],A.vouchers.init);var A=A||{};A.woosmap=A.woosmap||{},A.woosmap.configuration=A.woosmap.configuration||{},A.woosmap.dataSearchSource=null,A.woosmap.geoCoder=null,A.woosmap.locationProvider=null,A.woosmap.html5LocationResolver=null,A.woosmap.stores=null,A.woosmap.selectedStore=null,A.woosmap.extendedRange=!1,A.woosmap.geoCodingRegistry={},A.woosmap.geoCodingRegistryKey=null,A.woosmap.searchStoreRegistry={},A.woosmap.map=null,A.woosmap.mapView=null,A.woosmap.tableview=null,A.woosmap.selectedStoreObserver=null,A.woosmap.configuration.displayMap=!1,A.woosmap.createWoosmapMap=function(){if(A.utils.isTrue(A.woosmap.configuration.displayMap)){var e=new woosmap.MapsLoader({clientId:A.woosmap.config.googleClientId,channelId:A.woosmap.config.channelId});e.load(function(){null===A.woosmap.map&&(A.woosmap.map=new google.maps.Map(A.utils.qs(".pos-store--map",{cache:!1}),{center:{lat:46,lng:3},zoom:1}),A.woosmap.mapView=new woosmap.TiledView(A.woosmap.map,{style:A.woosmap.markersStyle,breakPoint:5}),A.woosmap.mapView.bindTo("stores",A.woosmap.tableview,"stores",!1),A.woosmap.mapView.bindTo("selectedStore",A.woosmap.tableview,"selectedStore",!1),A.woosmap.selectedStoreObserver=new woosmap.utils.MVCObject,A.woosmap.selectedStoreObserver.selectedStore_changed=function(){A.woosmap.highlightStore(A.woosmap.mapView.get("selectedStore"))},A.woosmap.selectedStoreObserver.bindTo("selectedStore",A.woosmap.mapView)),A.woosmap.selectedStoreObserver.selectedStore=null,A.woosmap.tableview.set("stores",A.woosmap.stores),A.utils.animate(".pos-store--sidebar",{scrollTop:0,cache:!1}),null!==A.pos.storeRegistry&&null!==A.woosmap.selectedStore&&A.pos.storeRegistry[A.woosmap.selectedStore.properties.store_id].classList.remove("selected")})}},A.woosmap.configure=function(e){if(null!==e){A.woosmap.configuration=e;var t=[];Array.isArray(A.woosmap.configuration.posTypes)&&(t=A.woosmap.configuration.posTypes.map(function(e){return{value:e,operator:woosmap.search.SearchQuery.OR}})),A.woosmap.dataSearchSource.updateSearchQuery("types",t),A.woosmap.tableview=new woosmap.ui.TableView({cell:""}),A.woosmap.restoreRegularSearchRange(),A.woosmap.dataSearchSource.set("location",void 0),A.woosmap.dataSearchSource.set("stores",void 0),A.woosmap.map=null}},A.woosmap.selectStore=function(e){null!==A.woosmap.mapView?A.woosmap.mapView.set("selectedStore",e):A.woosmap.highlightStore(e)},A.woosmap.highlightStore=function(e){null!==A.pos.storeRegistry&&(null!==A.woosmap.selectedStore&&A.pos.storeRegistry[A.woosmap.selectedStore.properties.store_id].classList.remove("selected"),null!==e&&(A.woosmap.selectedStore=e,A.pos.storeRegistry[A.woosmap.selectedStore.properties.store_id].classList.add("selected"),A.utils.animate(".pos-store--sidebar",{scrollTop:A.utils.getRelativeOffset(A.pos.storeRegistry[A.woosmap.selectedStore.properties.store_id],A.utils.qs(".pos-store--sidebar",{cache:!1})),cache:!1})))},A.woosmap.restoreRegularSearchRange=function(){var e=A.woosmap.dataSearchSource.get("searchParameters");e.storesByPage=A.woosmap.configuration.numberOfDisplayedPos,e.page=0,e.maxDistanceFromUser=1e3*parseInt(A.woosmap.configuration.maxDistanceToCustomerLocation),A.woosmap.extendedRange=!1},A.woosmap.geoLocateUser=function(){void 0!==A.woosmap.geoCodingRegistry.geolocation?A.woosmap.dataSearchSource.set("location",A.woosmap.geoCodingRegistry.geolocation):(A.woosmap.geoCodingRegistryKey="geolocation",A.woosmap.locationProvider.askForLocation(navigator.geolocation))},A.woosmap.geoCodeAddress=function(e){null!==e&&e.length>0&&(void 0!==A.woosmap.geoCodingRegistry[e]?A.woosmap.dataSearchSource.set("location",A.woosmap.geoCodingRegistry[e],!0):(A.woosmap.geoCodingRegistryKey=e,A.woosmap.geoCoder.search(e)))},A.woosmap.handleLocationUpdate=function(){var e=A.woosmap.dataSearchSource.get("location");if(void 0!==e&&null!==e){null!==A.woosmap.geoCodingRegistryKey&&(A.woosmap.geoCodingRegistry[A.woosmap.geoCodingRegistryKey]=e,A.woosmap.geoCodingRegistryKey=null);var t=A.woosmap.dataSearchSource.get("searchParameters");t.lat=e.lat,t.lng=e.lng;var a=A.woosmap.searchStoreRegistry[JSON.stringify(t)];void 0!==a?A.woosmap.dataSearchSource.set("stores",a,!0):A.woosmap.dataSearchSource.search()}},A.woosmap.handlePointOfServiceListUpdate=function(){if(A.woosmap.stores=A.woosmap.dataSearchSource.get("stores"),void 0!==A.woosmap.stores&&null!==A.woosmap.stores){var e=JSON.stringify(A.woosmap.dataSearchSource.get("searchParameters"));if(void 0===A.woosmap.searchStoreRegistry[e]&&(A.woosmap.searchStoreRegistry[e]=A.woosmap.stores),0===A.woosmap.stores.length&&A.woosmap.extendedRange===!1){var t=A.woosmap.dataSearchSource.get("searchParameters");t.storesByPage=1,t.maxDistanceFromUser=null,A.woosmap.dataSearchSource.search(),A.woosmap.extendedRange=!0}else document.dispatchEvent(new CustomEvent("woosmapStoresUpdate")),A.woosmap.restoreRegularSearchRange(),A.woosmap.createWoosmapMap()}},A.woosmap.init=function(){A.woosmap.locationProvider=new woosmap.location.LocationProvider,A.woosmap.html5LocationResolver=new woosmap.utils.MVCObject,A.woosmap.html5LocationResolver.bindTo("location",A.woosmap.locationProvider),A.woosmap.geoCoder=new woosmap.location.GeocoderSearchSource({region:"FR"}),A.woosmap.geoCoder.bindTo("location",A.woosmap.locationProvider),A.woosmap.dataSearchSource=new woosmap.DataSearchSource(new woosmap.DataSource,{tags:[{value:"enabled",operator:woosmap.search.SearchQuery.AND},{value:"notInHoliday",operator:woosmap.search.SearchQuery.AND}]}),A.woosmap.dataSearchSource.bindTo("location",A.woosmap.locationProvider),A.woosmap.dataSearchSource.location_changed=A.woosmap.handleLocationUpdate,A.woosmap.dataSearchSource.stores_changed=A.woosmap.handlePointOfServiceListUpdate,document.dispatchEvent(new CustomEvent("woosmapInitialized"))},A.woosmap.initializeWoosmap=function(){null!==A.woosmap.config&&void 0!==window.WoosmapLoader&&(A.woosmap.markersStyle={"default":{numberedIcon:{url:A.woosmap.config.numberedIcon,scaledSize:{width:30,height:453/11}},selectedIcon:{url:A.woosmap.config.selectedIcon,scaledSize:{width:40,height:604/11}}}},WoosmapLoader.load({loadJQuery:!0,version:"1.2",publicKey:A.woosmap.config.apiKey,callback:A.woosmap.init}))},A.module.add(["utilsInitialized"],A.woosmap.initializeWoosmap);var A=A||{};A.addToCart=A.addToCart||{},A.addToCart.lastAddToCartProductCode=null,A.addToCart.handleAjaxReponse=function(e){null!=e&&(A.layers.create({layerCssClass:"layer--modal product-aside--container confirmation--layer",fullContent:e,activated:!0,id:"layer-modal-addToCart",removeExisting:!0}),document.dispatchEvent(new CustomEvent("cartUpdated")))},A.addToCart.handleError=function(){A.layers.create({layerCssClass:"layer--modal",fullContent:'<header><span class="ui-layer--header"><span class="title">Oups !</span><button class="ui-btn ui-btn icon layer__close"><i class="icon-auchan-14"></i></button></span></header><main class="product-aside--container noFooter"><div class="product-channel--outOfStock"><div class="product-channel--outOfStockLabel"><span class="coolgray1-txt"><br/>Cet article est indisponible.</span></div></div></main></section>',activated:!0,removeExisting:!0})},A.addToCart.add=function(e){"object"==("undefined"==typeof e?"undefined":_typeof(e))&&A.utils.post({url:"/mobile/cart/add",success:A.addToCart.handleAjaxReponse,error:A.addToCart.handleError,triggerDomUpdate:!0,evalScripts:!0,loader:!0,data:e})},A.addToCart.handleAddToCartSubmit=function(e){null!=A.cartVariantUpdate&&null!=A.cartVariantUpdate.config&&A.cartVariantUpdate.config.action==e.matchingTarget.getAttribute("action")||(e.preventDefault(),A.addToCart.lastAddToCartProductCode=e.matchingTarget.dataset.productcode,A.utils.ajaxPost(e.matchingTarget,{success:A.addToCart.handleAjaxReponse,error:A.addToCart.handleError,triggerDomUpdate:!0,evalScripts:!0,loader:!0}))},A.addToCart.init=function(){A.events.add(document,"submit",A.addToCart.handleAddToCartSubmit,"form.addToCart:not(.notReady)"),document.dispatchEvent(new CustomEvent("addToCartInitialized"))},A.module.add(["utilsInitialized","layersInitialized","qtySelectorInitialized"],A.addToCart.init);var A=A||{};A.hx=A.hx||{},A.hx.handlePostalCodeSubmit=function(e){e.preventDefault(e),e.stopPropagation();var t=e.matchingTarget.querySelector("#storePostalCode"),a=e.matchingTarget.dataset.action+"z-"+(null!=t.value?t.value:"");A.layers.generateAjaxLayer({url:a,loader:!0},{layerCssClass:"layer--modal",activated:!0})},A.hx.handlePersonalDetailsSubmit=function(e){e.preventDefault(e),e.stopPropagation(),A.utils.ajaxPost(e.matchingTarget,{loader:!0,evalScripts:!0,success:function(e){A.layers.handleAjaxLayerResponse({activated:!0,layerCssClass:"layer--modal confirmation--layer"},e)},error:function(e){400===e.status&&A.layers.handleAjaxLayerResponse({activated:!0,layerCssClass:"layer--modal"},e.responseText)}})},A.hx.init=function(){A.events.add(document,"submit",A.hx.handlePostalCodeSubmit,"#postalCodeSeeker"),A.events.add(document,"submit",A.hx.handlePersonalDetailsSubmit,"#personalDetailsForm"),document.dispatchEvent(new CustomEvent("hxInitialized"))},A.module.add(["utilsInitialized","layersInitialized"],A.hx.init);var A=A||{};A.navigation=A.navigation||{},A.navigation.config=A.navigation.config||{},A.navigation.navigationDomRegistry={},A.navigation.linkTypeEnum={SUB:1,PREV:2,REGULAR:3,EXTERNAL:4},A.navigation.isAccessibilityMode=!1,A.navigation.visibleAnchorsRegistry=[],A.navigation.keyBindings={UP:38,TAB:9,DOWN:40,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32},A.navigation.CATEGORY_CODE_PATTERN=/c-(.*)$/,A.navigation.handleSubLevelNavigationClick=function(e){e.preventDefault(),e.stopPropagation();var t=e.matchingTarget;document.body.scrollTop=0,A.utils.closest(t,"ul").scrollTop=0;var a=t.dataset.uid,n=t.dataset.parent,i=A.navigation.getNavigationNodeEl(n,a);if(null==i){i=A.navigation.createNavigationNodeEl(n,a);var o=A.navigation.getKey(n,a);null!=i&&(A.navigation.navigationDomRegistry[o]=A.utils.closest(t,"li").appendChild(i))}setTimeout(function(){var e=A.utils.closest(t,"li"),a=A.utils.qs("a",{parent:e});requestAnimationFrame(function(){A.utils.closest(t,"ul").classList.add("out"),e.classList.add("active"),a&&a.setAttribute("aria-expanded",!0),A.navigation.isAccessibilityMode&&(A.navigation.updateAllVisibleAnchorElements(i,!1),A.navigation.putFocusToNavigationElement(0))})},0)},A.navigation.handleRegularLinkClick=function(e){e.stopPropagation()},A.navigation.handlePreviousLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t=e.matchingTarget,a=A.utils.closest(t,".out"),n=A.utils.closest(t,".active"),i=A.utils.qs("a",{parent:n});requestAnimationFrame(function(){n.classList.remove("active"),i&&i.setAttribute("aria-expanded",!1),a.classList.remove("out"),a.scrollTop=0,A.navigation.isAccessibilityMode&&(A.navigation.updateAllVisibleAnchorElements(a,!1),A.navigation.putFocusToNavigationElement(0))})},A.navigation.getNavigationNode=function(e,t){return A.navigation.findNode(A.navigation.rootNavigationNode,e,t,!0)},A.navigation.getParentNavigationNode=function(e,t){return A.navigation.findNode(A.navigation.rootNavigationNode,e,t,!1)},A.navigation.findNode=function(e,t,a,n){if(null!=e&&A.navigation.hasChild(e))for(var i=0;i<e.children.length;i++)if(A.utils.isTrue(e.children[i].visible)){if(e.uid===t&&e.children[i].uid===a)return n?e.children[i]:e;var o=A.navigation.findNode(e.children[i],t,a,n);if(null!=o)return o}return null},A.navigation.getNavigationNodeEl=function(e,t){var a=A.navigation.getKey(e,t),n=A.navigation.navigationDomRegistry[a];return null==n&&null!=e&&null!=t&&(n=A.utils.qs('a[data-uid="'+t+'"][data-parent="'+e+'"] + ul'),null!=n&&(A.navigation.navigationDomRegistry[a]=n)),n},A.navigation.hasChild=function(e){return null!=e&&null!=e.children&&e.children.length>0},A.navigation.getKey=function(e,t){return(null!=e?e+"_":"")+t},A.navigation.createNavigationNodeEl=function(e,t){var a=A.navigation.getNavigationNode(e,t);if(null!=a){var n=[],i=A.utils.createElement("ul"),o=A.navigation.getParentNavigationNode(e,t);if(null!=o&&e!=A.navigation.rootNavigationNode.uid){var l=A.navigation.createLinkEl(null,t,e,o.title,A.navigation.linkTypeEnum.PREV);null!=l&&i.appendChild(l)}if(null!=a.url){var s=A.navigation.createLinkEl(a.url,t,null,A.navigation.config.seeAllLabel,A.navigation.getLinkTypeForNavigationNode(a));null!=s&&n.push(s)}var r=!1;if(A.navigation.hasChild(a))for(var c=0;c<a.children.length;c++)if(A.utils.isTrue(a.children[c].visible)){var u=a.children[c],d=A.navigation.createLinkEl(u.url,u.uid,a.uid,u.title,A.navigation.hasChild(u)?A.navigation.linkTypeEnum.SUB:A.navigation.getLinkTypeForNavigationNode(u));null!=d&&(d.matches(".active")&&(r=!0),n.push(d))}var p=A.utils.createElement(r?"strong":"span",{"class":"current bold"},a.title),g=A.utils.createElement("li",null,null,[p]);return i.appendChild(g),A.utils.appendChilds(i,n),i}return null},A.navigation.getLinkTypeForNavigationNode=function(e){return null!=e&&"EXTERNAL_LINK"==e.type?A.navigation.linkTypeEnum.EXTERNAL:A.navigation.linkTypeEnum.REGULAR},A.navigation.createLinkEl=function(e,t,a,n,i){if(null!=n&&null!=i){var o={};if(A.navigation.linkTypeEnum.PREV===i&&(o={"class":"prev bold"}),A.navigation.linkTypeEnum.SUB===i&&(o={"class":"sub"}),A.navigation.linkTypeEnum.REGULAR===i){var l=A.navigation.activeNavigationNodeHandlers[A.configuration.pageType];"function"==typeof l&&l.call(null,t,a)&&(o={"class":"active"})}null==e&&(o["class"]="undefined"!=typeof o["class"]?o["class"]+" fake-link":"fake-link");var s=A.utils.createElement("li",o),r={};if(A.navigation.linkTypeEnum.SUB===i&&(r={"data-uid":t,"data-parent":a}),A.navigation.linkTypeEnum.EXTERNAL===i&&(r.target="_blank"),r.href=e||"#",A.navigation.linkTypeEnum.PREV!==i){var c=A.navigation.getNavigationNodeTree(t);r.onclick="dataLayer.push({'event-category': 'layer_navigation', 'event-action':'"+(c.length<2?n:c[1].title)+"','event-label':'"+(c.length<2?void 0:n)+"', 'event': 'clickEvent'});"}else r.onclick="dataLayer.push({'event-category': 'layer_navigation', 'event-action': 'retour_niveau_+1', 'event': 'clickEvent'});";var u=A.utils.createElement("a",r);if(A.navigation.linkTypeEnum.PREV===i){var d=A.utils.createElement("i",{"class":"icon-auchan-18 r180","aria-hidden":!0});u.appendChild(d)}var p=A.utils.createElement("span");if(p.innerText=n,u.appendChild(p),A.navigation.linkTypeEnum.SUB===i){var d=A.utils.createElement("i",{"class":"icon-auchan-18","aria-hidden":!0});u.appendChild(d)}return s.appendChild(u),s}return null},A.navigation.handleNavigationTriggerChange=function(e){var t=A.utils.qsAll("div.main-header--nav-trigger button.fake-label");if(e.matchingTarget.checked){if(A.layers.stopScrollPropagation(),document.dispatchEvent(new CustomEvent("navigationOpen")),
A.overlay.open({cssClasses:"navigation-overlay",event:e}),A.navigation.isAccessibilityMode){var a=A.utils.qs("ul.level-0:not(.out)",{parent:A.navigation.mainNavigationEl});if(null!=a)A.navigation.updateAllVisibleAnchorElements(a,!0);else{var n=A.utils.qsAll("li.active.sub > ul",{parent:A.navigation.mainNavigationEl});n&&A.navigation.updateAllVisibleAnchorElements(n[n.length-1],!1)}A.navigation.putFocusToNavigationElement(0)}t.forEach(function(e){e.setAttribute("aria-label",A.navigation.config.messages.closeNavigation)})}else A.navigation.closeNavigation(),A.overlay.close(e),t.forEach(function(e){e.setAttribute("aria-label",A.navigation.config.messages.openNavigation)})},A.navigation.getNavigationNodeTree=function(e){function t(n){if(A.navigation.hasChild(n))for(var i=0;i<n.children.length;i++){if(n.children[i].uid===e)return A.navigation.hasChild(n.children[i])&&a.push(n.children[i]),a.push(n),!0;if(t(n.children[i]))return a.push(n),!0}return!1}var a=[];return t(A.navigation.rootNavigationNode),a.reverse()},A.navigation.reachNavigationNode=function(e){function t(){A.navigation.mainNavigationEl.querySelectorAll("ul.out").forEach(function(e){e.classList.remove("out")}),A.navigation.mainNavigationEl.querySelectorAll("li.sub.active").forEach(function(e){var t=A.utils.qs("a",{parent:e});e.classList.remove("active"),null!=t&&t.setAttribute("aria-expanded",!1)})}function a(e){if(null!=e){var t=e.parentElement;"UL"===t.tagName?t.classList.add("out"):"LI"===t.tagName&&t.classList.add("active"),t.classList.contains("level-0")||a(t)}}if(null!=e){t();var n=null;if(A.navigation.rootNavigationNode.uid!==e)for(var i=A.navigation.getNavigationNodeTree(e),o=null,l=0;l<i.length;l++){var s=i[l].uid,r=A.navigation.getNavigationNodeEl(n,s);if(null==r){r=A.navigation.createNavigationNodeEl(n,s);var c=A.utils.qs('a[data-uid="'+s+'"]',{parent:o}),u=A.utils.closest(c,"li.sub"),d=A.navigation.getKey(n,s);A.navigation.navigationDomRegistry[d]=u.appendChild(r),r=A.navigation.navigationDomRegistry[d]}if(null!=r)if(l===i.length-1){var c=A.utils.qs('a[data-uid="'+s+'"]',{parent:o}),u=A.utils.closest(c,"li.sub");c.setAttribute("aria-expanded",!0),null!=u&&(u.classList.add("active"),a(u))}else o=r,n=i[l].uid}}},A.navigation.closeNavigation=function(){A.navigation.mainNavTrigger.checked=!1,A.layers.releaseScroll(),A.navigation.isAccessibilityMode&&(A.navigation.isAccessibilityMode=!1,A.events.remove(A.navigation.mainNavigationEl,"keydown",A.navigation.handleNavigationKeyBindings)),document.dispatchEvent(new CustomEvent("navigationClose"))},A.navigation.isCurrentNavigationNodeActiveForCategory=function(e,t){var a=A.navigation.getNavigationNode(t,e),n=location.pathname.match(A.navigation.CATEGORY_CODE_PATTERN),i=null!=n?n[1]:null;return null!=a&&null!=i&&a.entryIdentifier==i},A.navigation.updateAllVisibleAnchorElements=function(e,t){if(A.navigation.visibleAnchorsRegistry=[].slice.call(A.utils.qsAll(":scope > li:not(.root) > a",{parent:e,cache:!1})),!t){var a=A.utils.qs("li.root > a",{parent:A.navigation.mainNavigationEl,cache:!1});a&&A.navigation.visibleAnchorsRegistry&&A.navigation.visibleAnchorsRegistry.unshift(a)}},A.navigation.putFocusToNavigationElement=function(e){A.navigation.visibleAnchorsRegistry&&"number"==typeof e&&(A.navigation.visibleAnchorsRegistry.length<=e?e=0:e<0&&(e=A.navigation.visibleAnchorsRegistry.length-1),A.navigation.visibleAnchorsRegistry[e].focus())},A.navigation.handleNavigationKeyBindings=function(e){if(e.keyCode==A.navigation.keyBindings.TAB||e.keyCode==A.navigation.keyBindings.UP||e.keyCode==A.navigation.keyBindings.DOWN){e.preventDefault();var t=document.activeElement,a=null;t&&(a=A.navigation.visibleAnchorsRegistry.indexOf(t)),(e.keyCode==A.navigation.keyBindings.TAB&&e.shiftKey||e.keyCode==A.navigation.keyBindings.UP)&&null!=a?A.navigation.putFocusToNavigationElement(a-1):(e.keyCode!=A.navigation.keyBindings.TAB||e.shiftKey)&&e.keyCode!=A.navigation.keyBindings.DOWN||null==a||A.navigation.putFocusToNavigationElement(a+1)}else if(e.keyCode==A.navigation.keyBindings.ESCAPE||e.keyCode==A.navigation.keyBindings.LEFT){var n=A.navigation.visibleAnchorsRegistry.filter(function(e){return e.parentElement.classList.contains("prev")||e.parentElement.classList.contains("root")}).sort(function(e,t){return e.parentElement.classList.contains("prev")?-1:1});n.length>0?n[0].click():(A.navigation.closeNavigation(),A.overlay.close(e))}else if(e.keyCode==A.navigation.keyBindings.RIGHT||e.keyCode==A.navigation.keyBindings.SPACE){e.preventDefault();var t=document.activeElement;t&&t.click()}},A.navigation.activeNavigationNodeHandlers={CATEGORY:A.navigation.isCurrentNavigationNodeActiveForCategory},A.navigation.handleOverlayClosing=function(e){"undefined"!=typeof e&&e.matchingTarget===A.navigation.mainNavTrigger||!A.navigation.mainNavTrigger.checked||A.navigation.closeNavigation()},A.navigation.handleRootLinkClick=function(e){e.preventDefault(),e.stopPropagation(),A.navigation.reachNavigationNode(A.navigation.rootNavigationNode.uid);var t=document.activeElement;if(A.navigation.isAccessibilityMode&&null!=t){var a=A.utils.qs("ul.level-0:not(.out)",{parent:A.navigation.mainNavigationEl,cache:!1});null!=a&&(A.navigation.updateAllVisibleAnchorElements(a,!0),A.navigation.putFocusToNavigationElement(0))}},A.navigation.handleFocusNavigationEngine=function(e){"undefined"!=typeof e&&"Enter"==e.code&&(A.navigation.isAccessibilityMode=!0,A.events.add(A.navigation.mainNavigationEl,"keydown",A.navigation.handleNavigationKeyBindings))},A.navigation.init=function(){A.navigation.mainNavTrigger=document.querySelector("#main-nav-trigger");var e=document.querySelectorAll(".main-navigation");null!=A.navigation.mainNavTrigger&&e.length>0&&null!=A.navigation.config&&(A.navigation.mainNavigationEl=e[0],A.utils.get({url:A.navigation.config.url,dataType:"json",success:function(e){A.navigation.rootNavigationNode=e,null!=A.navigation.rootNavigationNode&&null!=A.navigation.rootNavigationNode.uid&&(A.navigation.navigationDomRegistry[A.navigation.rootNavigationNode.uid]=A.navigation.mainNavigationEl.querySelector("nav ul"),A.events.add(A.navigation.mainNavigationEl,"click",A.navigation.handleRootLinkClick,".root a"),A.events.add(A.navigation.mainNavigationEl,"click",A.navigation.handleSubLevelNavigationClick,".main-navigation .sub > a"),A.events.add(A.navigation.mainNavigationEl,"click",A.navigation.handleRegularLinkClick,".main-navigation li:not(.sub):not(.prev) a"),A.events.add(A.navigation.mainNavigationEl,"click",A.navigation.handlePreviousLinkClick,".main-navigation .prev > a"),A.events.add(document,"change",A.navigation.handleNavigationTriggerChange,"#main-nav-trigger"),A.events.add(document,"keydown",A.navigation.handleFocusNavigationEngine,"div.main-header--nav-trigger button.fake-label"))}}),A.overlay.addClosingListener(A.navigation.handleOverlayClosing),document.dispatchEvent(new CustomEvent("navigationInitialized")))},A.module.add(["DOMContentLoaded","overlayInitialized"],A.navigation.init);var A=A||{};A.navigation=A.navigation||{},A.navigation.shouldRestoreNavigationContext=!1,A.navigation.initialCloseNavigation=A.navigation.closeNavigation,A.navigation.closeNavigation=function(){A.navigation.initialCloseNavigation.call(),A.navigation.shouldRestoreNavigationContext&&A.navigation.restoreContext()},A.navigation.handleMobileFirstNavigationTriggerChange=function(e){var t=A.utils.qs("#main-wrapper");1!=A.navigation.shouldRestoreNavigationContext&&null!=t&&t.matches(".restore-context")&&(A.navigation.shouldRestoreNavigationContext=!0),e.matchingTarget.checked&&null!=A.navigation.rootNavigationNode&&"[object CustomEvent]"!=Object.prototype.toString.call(e)&&A.navigation.reachNavigationNode(A.navigation.rootNavigationNode.uid)},A.navigation.restoreContext=function(){A.navigation.reachNavigationNode(null==A.navigation.config.currentNavigationNodeTree?A.navigation.rootNavigationNode.uid:A.navigation.config.currentNavigationNodeTree[A.navigation.config.currentNavigationNodeTree.length-1])},A.navigation.handleLazyNavigationOpening=function(){var e=A.utils.qs("#main-nav-trigger");A.utils.isTrue(e.checked)||(e.checked=!0,A.events.trigger("change",e))},A.navigation.initMobileFirst=function(){A.events.add(document,"change",A.navigation.handleMobileFirstNavigationTriggerChange,"#main-nav-trigger"),A.events.add(A.navigation.mainNavigationEl,"click",A.navigation.handleLazyNavigationOpening,".main-navigation .sub > a, .main-navigation .prev > a,  .main-navigation .root > a"),document.dispatchEvent(new CustomEvent("mobilefirst.navigationInitialized"))},A.module.add(["navigationInitialized"],A.navigation.initMobileFirst);var A=A||{};A.pos=A.pos||{},A.pos.currentProductCode=null,A.pos.currentChannel=null,A.pos.lastAvailabilityCheckProductCode=null,A.pos.currentActionType=null,A.pos.ACTION_TYPES={CHECKOUT:1,AVAILABILITY:2},A.pos.availabilityCache={},A.pos.restoreDefaultAvailabilityStatus=function(){A.pos.lastAvailabilityCheckProductCode!=A.pos.currentProductCode&&null!=A.pos.storeRegistry&&Object.keys(A.pos.storeRegistry).forEach(function(e){var t=A.pos.storeRegistry[e];if(null!=t){t.classList.remove("unavailable");var a=A.utils.qs(".pos-address--choice-container button.pos--choice",{parent:t});null!=a&&(a.setAttribute("disabled","disabled"),a.innerText=A.pos.getChoiceButtonLabel());var n=A.utils.qs(".pos--choiceContainer",{parent:t});null!=n&&n.classList.remove("active");var i=A.utils.qs(".pos--availabilityStatus",{parent:t,clear:!0,cache:!1});null!=i&&i.parentElement.replaceChild(A.pos.createHeadlineSubTitleEl({store_id:e}),i)}})},A.pos.getAvailabilityStatus=function(e){return A.pos.availabilityCache[A.pos.currentProductCode].filter(function(t){return t.storeId==e})},A.pos.displayStoresAvailability=function(e){null!=e&&e.forEach(function(e){var t=A.pos.storeRegistry[e];if(null!=t){var a=A.utils.qs(".pos--availabilityStatus",{parent:t});if(null!=a){var n=A.pos.getAvailabilityStatus(e);if(n.length>0&&null!=n[0].offer){var i=A.utils.qs('.pos-address--choice-container .pos--choice[disabled="disabled"]',{parent:t});if(t.classList.remove("unavailable"),null!=i&&i.removeAttribute("disabled"),"HPLUSX"==A.pos.currentChannel){var o=A.utils.createElement("i",{"class":"icon-auchan-22 green-txt c-xxl"}),l=A.utils.createElement("span",null,A.pos.config.messages.hxFreePickUpInStore);a.innerText="",a.classList.add("green-txt"),a.classList.add("bold"),a.appendChild(o),a.appendChild(l)}else{a.classList.remove("green-txt"),a.classList.remove("bold"),a.innerText="";var l=A.utils.createElement("span",null,A.pos.config.messages.availableInStoreAt),s=A.utils.createElement("span",{"class":"red-txt bold"},"&nbsp;"+n[0].offer.price.formattedValue);a.appendChild(l),a.appendChild(s)}}else null!=i&&i.setAttribute("disabled","disabled"),a.classList.remove("green-txt"),a.classList.remove("bold"),a.innerText=A.pos.config.messages.unavailableInThisStore,t.classList.add("unavailable")}}})},A.pos.handleStoreAvailabilityResponse=function(e,t){t.forEach(function(t){var a=e.filter(function(e){return e.pointOfService.storeId==t}),n={storeId:t,offer:a.length>0?a[0]:null};A.pos.availabilityCache[A.pos.currentProductCode].push(n)}),A.pos.displayStoresAvailability(t)},A.pos.getStoresAvailability=function(){A.pos.restoreDefaultAvailabilityStatus(),A.pos.availabilityCache[A.pos.currentProductCode]=A.pos.availabilityCache[A.pos.currentProductCode]||[];var e=A.pos.stores.filter(function(e){return null!=e&&null!=e.properties&&null!=e.properties.store_id}).map(function(e){return e.properties.store_id}),t=e.filter(function(e){return 0!=A.pos.availabilityCache[A.pos.currentProductCode].filter(function(t){return t.storeId==e}).length});A.pos.displayStoresAvailability(t);var a=e.filter(function(e){return t.indexOf(e)===-1});a.length&&A.utils.get({url:A.pos.config.availabilityUrl,data:{storeIds:a,productId:A.pos.currentProductCode,process:A.pos.currentChannel},dataType:"json",success:function(e){A.pos.handleStoreAvailabilityResponse(e,a)}})},A.pos.createHeadlineSubTitleEl=function(e){if(null!=e){var t=A.utils.createElement("div",{"class":"pos--availabilityStatus green-txt c bold","data-storeid":e.store_id});t.appendChild(A.utils.createElement("span",{"class":"label"},A.pos.config.messages.availabilityCheck));var a=A.utils.createElement("span",{"class":"dots-loader"});return a.appendChild(A.utils.createElement("span",{"class":"dot green-bg"})),a.appendChild(A.utils.createElement("span",{"class":"dot green-bg"})),a.appendChild(A.utils.createElement("span",{"class":"dot green-bg"})),t.appendChild(a),t}},A.pos.createStoreNameEl=function(e){var t;return null!=e&&(t=null!=e.address&&null!=e.address.zipcode?A.utils.createElement("div",{"class":"pos-address--name uc bold c-s availability"},'<span class="order">'+e.address.zipcode.substr(0,2)+"</span>"+e.name):A.utils.createElement("div",{"class":"pos-address--name uc bold c-s availability"},'<span class="order">'+e.name)),t},A.pos.createOpenTodayElement=function(e){var t=A.utils.createElement("div",{"class":"pos-address--open-today"});if(null!=e){var a=e.properties.opening_hours;if(null!=a)if("undefined"==typeof a.usual[A.pos.currentDayIndex]||0===a.usual[A.pos.currentDayIndex].length)t.appendChild(A.utils.createElement("span",{"class":"closed"},A.pos.config.messages.closedToday));else{t.appendChild(A.utils.createElement("span",{"class":"open"},A.pos.config.messages.openToday));for(var n=0;n<a.usual[A.pos.currentDayIndex].length;n++){var i=a.usual[A.pos.currentDayIndex];0===n?t.appendChild(A.utils.createElement("span",{"class":"open-hours"},"<b> "+i[n].start+" "+A.pos.config.messages.to+" "+i[n].end+"</b>")):t.appendChild(A.utils.createElement("span",{"class":"open-hours"},"<b> "+A.pos.config.messages.andFrom+" "+i[n].start+" "+A.pos.config.messages.to+" "+i[n].end+"</b>"))}}}return t},A.pos.handleStoreAvailabilityClick=function(e){if(("PRODUCT"==A.configuration.pageType||null==A.context.store)&&null!=e.matchingTarget.dataset.code&&null!=e.matchingTarget.dataset.channel){e.preventDefault(),e.stopPropagation(),A.pos.currentActionType=A.pos.ACTION_TYPES.AVAILABILITY,A.pos.currentProductCode=e.matchingTarget.dataset.code,A.pos.currentChannel=e.matchingTarget.dataset.channel;var t=e.matchingTarget.getAttribute("href");A.pos.currentUrl="#"!=t?t:null,A.utils.addPrefetch(A.pos.currentUrl),A.pos.openSearchLayer()}},A.pos.handleCheckoutOfferSubmit=function(e){e.preventDefault(),A.pos.currentActionType=A.pos.ACTION_TYPES.CHECKOUT,A.pos.currentChannel="HPLUSX",A.pos.currentProductCode=A.offers.config.productCode,A.pos.openSearchLayer()},A.pos.openSearchLayer=function(){var e=A.utils.qs("#layer__pos");null!=e&&(A.pos.lastAvailabilityCheckProductCode!=A.pos.currentProductCode&&A.pos.getStoresAvailability(),A.layers.openLayerEl(e,!0))},A.pos.handleFinalChoiceButtonClick=function(e){if(e.matchingTarget.matches(".yes")||e.matchingTarget.matches(".no")){var t=A.utils.closest(e.matchingTarget,".pos--container");if(null!=t){var a=t.dataset.sid,n=[];n.push("osid="+a),e.matchingTarget.matches(".yes")&&n.push("fsid="+a);var i=A.hashmanager.buildHash(n);if(A.pos.ACTION_TYPES.AVAILABILITY==A.pos.currentActionType)null!=A.pos.currentUrl?window.location=A.pos.currentUrl+"#"+i:(A.hashmanager.addHash(i),A.pos.closeSearchLayer());else{A.hashmanager.addHash(i);var o=A.pos.getAvailabilityStatus(a);if(o.length>0&&null!=o[0].offer){var l=A.qtySelector.getLastSavedQuantity(o[0].offer.productCode);null!=l&&A.addToCart.add({productCode:o[0].offer.productCode,offerId:o[0].offer.id,quantity:l})}}}}},A.pos.closeSearchLayer=function(){A.layers.closeAllLayers()},A.pos.getChoiceButtonLabel=function(){return A.pos.currentActionType==A.pos.ACTION_TYPES.AVAILABILITY?A.pos.config.messages.choose:A.pos.config.messages.book},A.pos.init=function(){null!=A.pos.config.woosmapConfiguration&&null!=A.pos.config&&(A.pos.isChoiceButtonDisabledByDefault=!0,A.woosmap.configure(A.pos.config.woosmapConfiguration),A.events.add(document,"woosmapStoresUpdate",A.pos.getStoresAvailability),A.events.add(document,"submit",A.pos.handleCheckoutOfferSubmit,"form.addToCart.notReady"),A.events.add(document,"click",A.pos.handleStoreAvailabilityClick,".pos--simpleCheck"),A.events.add(document,"click",A.pos.handleFinalChoiceButtonClick,".pos--choice")),document.dispatchEvent(new CustomEvent("offers.posInitialized"))},A.module.add(["posInitialized","contextInitialized","layersInitialized","hashmanagerInitialized","addToCartInitialized","qtySelectorInitialized"],A.pos.init);var A=A||{};A.pos=A.pos||{},A.pos.closeSearchLayer=function(){A.overlay.close()},A.pos.init=function(){document.dispatchEvent(new CustomEvent("mobilefirst.offers.posInitialized"))},A.module.add(["offers.posInitialized"],A.pos.init);var A=A||{};A.qtySelector=A.qtySelector||{},A.qtySelector.timers={},A.qtySelector.registry=[],A.qtySelector.maxQuantity=99,A.qtySelector.lastQtySelectors={},A.qtySelector.getSelectorProperties=function(e){var t=A.qtySelector.registry.filter(function(t){return t.containerEl==e});if(t.length>0)return t[0];var a=A.utils.qs('input[name="quantity"]',{parent:e}),n=A.utils.qs("input.qtySelector__cartMultiplier",{parent:e}),i=A.utils.closest(e,"form"),o=null!=i?i.dataset.productcode:null,l=null!=a?parseInt(a.value):0,s=null!=n?parseInt(n.value):1,r={containerEl:e,inputEl:a,formEl:i,counterEl:A.utils.qs(".qtySelector__counter-num",{parent:e}),productCode:o,quantity:l,minQuantity:l,maxQuantity:A.qtySelector.maxQuantity-A.qtySelector.maxQuantity%s,cartMultiplier:s};return A.qtySelector.registry.push(r),r},A.qtySelector.updateQuantity=function(e,t){var a=A.qtySelector.getSelectorProperties(e);if(null!=a&&null!=t){a.quantity=t,a.counterEl.innerText=t,a.inputEl.value=t;var n=A.utils.closest(e,"form");null!=n&&n.classList.contains("notReady")&&(A.qtySelector.lastQtySelectors[e.dataset.product]=t)}},A.qtySelector.calculate=function(e,t){var a=A.qtySelector.getSelectorProperties(e);if(null!=a){var n=a.quantity;t?n+=a.cartMultiplier:n-=a.cartMultiplier,n<a.minQuantity?n=a.minQuantity:n>a.maxQuantity&&(n=a.maxQuantity),A.qtySelector.updateQuantity(e,n)}},A.qtySelector.handleQuantityChange=function(e){e.preventDefault();var t=e.matchingTarget.matches(".qtySelector__button--increment"),a=A.utils.closest(e.matchingTarget,".qtySelector__container");A.qtySelector.calculate(a,t)},A.qtySelector.getLastSavedQuantity=function(e){if("undefined"!=typeof e&&null!=e){if("undefined"!=typeof A.qtySelector.lastQtySelectors[e])return A.qtySelector.lastQtySelectors[e];var t=A.utils.qs("#qty"+e,{cache:!1});if(null!=t)return parseInt(t.value)}return null},A.qtySelector.init=function(){A.events.add(document,"click",A.qtySelector.handleQuantityChange,".qtySelector__button"),document.dispatchEvent(new CustomEvent("qtySelectorInitialized"))},A.module.add(["utilsInitialized"],A.qtySelector.init);var A=A||{};A.quickadd2cart=A.quickadd2cart||{},A.quickadd2cart.timers={},A.quickadd2cart.blackList=[],A.quickadd2cart.updateStatus=function(e,t,a){if(null!=e){e.quantity;A.quickadd2cart.updateEntryNumber(e.cartEntry),a?(t.formEl.classList.remove("notify-remove"),t.formEl.classList.add("notify-add")):(t.formEl.classList.remove("notify-add"),t.formEl.classList.add("notify-remove")),clearTimeout(A.quickadd2cart.timers[t.productCode+"_notification"]),A.quickadd2cart.timers[t.productCode+"_notification"]=setTimeout(function(){t.formEl.classList.remove("notify-remove"),t.formEl.classList.remove("notify-add")},3e3),clearTimeout(A.quickadd2cart.timers.cartUpdate),A.quickadd2cart.blackList=[],A.quickadd2cart.timers.cartUpdate=setTimeout(function(){document.dispatchEvent(new CustomEvent("cartUpdated"))},1e3)}},A.quickadd2cart.updateEntryNumber=function(e){if(null!=e){var t=A.utils.qs('form.qty-selector[data-productCode="'+e.offer.product.code+'"] input[name="entryNumber"]');null!=t&&(t.value=e.number)}},A.quickadd2cart.handleCartUpdate=function(){null!=A.context.cart&&null!=A.context.cart.entries&&A.context.cart.entries.forEach(function(e){var t=e.offer.product.code;if(A.quickadd2cart.blackList.indexOf(t)===-1){var a=A.utils.qs('form.qty-selector[data-productCode="'+t+'"] .qtySelector__slider',{cache:!1});null!=a&&(a.classList.add("slided"),A.qtySelector.updateQuantity(A.utils.qs(".qtySelector__container",{parent:a}),e.quantity),A.quickadd2cart.updateEntryNumber(e))}})},A.quickadd2cart.handleFirstQuickAdd=function(e){var t=A.utils.closest(e.matchingTarget,"form.qty-selector"),a=A.utils.closest(e.matchingTarget,".qtySelector__slider");if(null!=t){var n="undefined"==typeof t.dataset.iscolorselected||"undefined"==typeof t.dataset.issizeselected,i=A.utils.isTrue(t.dataset.iscolorselected)&&A.utils.isTrue(t.dataset.issizeselected);if(null!=a&&(n||i)&&a.classList.add("slided"),null!=t&&(n||i)){var o=new CustomEvent("mock");o.matchingTarget=A.utils.qs(".qtySelector__button--increment",{parent:t}),A.qtySelector.handleQuantityChange(o),A.quickadd2cart.handleQuantityUpdate(o)}}},A.quickadd2cart.handleQuantityUpdate=function(e){var t=A.utils.closest(e.matchingTarget,".qtySelector__container");if(null!=t){var a=A.qtySelector.getSelectorProperties(t);if(A.quickadd2cart.blackList.indexOf(a.productCode)===-1&&A.quickadd2cart.blackList.push(a.productCode),clearTimeout(A.quickadd2cart.timers[a.productCode+"_request"]),A.quickadd2cart.timers[a.productCode+"_request"]=setTimeout(function(){A.utils.ajaxPost(a.formEl,{success:function(t){A.quickadd2cart.updateStatus(t,a,e.matchingTarget.matches(".qtySelector__button--increment"))},dataType:"json"})},1e3),null!=a&&0==a.quantity){var n=A.utils.closest(e.matchingTarget,".qtySelector__slider");null!=n&&n.classList.remove("slided")}}},A.quickadd2cart.init=function(){A.events.add(document,"click",A.quickadd2cart.handleFirstQuickAdd,".qtySelector__slider label.quickadd"),A.events.add(document,"click",A.quickadd2cart.handleQuantityUpdate,".qtySelector__container.qatc .qtySelector__button"),A.events.add(document,"contextUpdated",A.quickadd2cart.handleCartUpdate),A.events.add(document,"DOMUpdate",A.quickadd2cart.handleCartUpdate),document.dispatchEvent(new CustomEvent("quickadd2cartInitialized"))},A.module.add(["utilsInitialized","qtySelectorInitialized"],A.quickadd2cart.init);var A=A||{};A.xscroller=A.xscroller||{},A.xscroller.isScrolling=!1,A.xscroller.isInScroller=function(e){var t=e.getBoundingClientRect();return t.right>=15&&t.right<=t.width+15},A.xscroller.initializeDOMElements=function(){A.xscroller.scrollers=document.querySelectorAll(".x-scroller"),A.xscroller.bullets=document.querySelectorAll(".x-bullets"),A.xscroller.activeLabel=null},A.xscroller.initializeEvents=function(){A.xscroller.scrollers.forEach(function(e){A.events.add(e,"scroll",function(){e.querySelectorAll("label, a:not(.gallery-link)").forEach(function(e){if("A"==e.tagName)var t=e.getAttribute("data-for");else var t=e.getAttribute("for");null!=t&&A.xscroller.isInScroller(e)&&A.xscroller.activeLabel!=t&&(A.xscroller.activeLabel=t,document.querySelector("#"+A.xscroller.activeLabel).checked=!0)})})}),A.xscroller.bullets.forEach(function(e){e.children.length>2&&e.classList.add("visible")})},A.xscroller.scrollIntoElement=function(e,t){if(A.xscroller.isScrolling=!0,null!=e)var a=A.utils.closest(e,".js-native-scroller--wrapper");if(null!=a){var n=A.utils.qs(".js-native-scroller--item.active",{cache:!1});null!=n&&n.classList.remove("active"),e.classList.add("active");var i=a.scrollLeft,o=0;o=A.xscroller.isLeftToRight?e.offsetLeft:i-a.getBoundingClientRect().left+e.getBoundingClientRect().left-a.clientWidth+e.clientWidth,A.utils.isTrue(t)?A.utils.animate(a,{scrollLeft:o,callback:function(){A.xscroller.isScrolling=!1}},150):(a.scrollLeft=o,A.xscroller.isScrolling=!1)}},A.xscroller.init=function(){A.xscroller.initializeDOMElements(),A.xscroller.initializeEvents(),document.dispatchEvent(new CustomEvent("xscrollerInitialized"))},A.module.add(["utilsInitialized"],A.xscroller.init);var A=A||{};A.xscroller=A.xscroller||{},A.xscroller.isLeftToRight=!0,A.xscroller.scrollers=[],A.xscroller.scrollersAutoplaySettings=[],A.xscroller.isInScroller=function(e){var t=e.getBoundingClientRect(),a=A.utils.closest(e,".js-native-scroller--wrapper");return null!=a&&(parseInt(t.left)>=parseInt(a.getBoundingClientRect().left)&&parseInt(t.right)<=parseInt(a.getBoundingClientRect().width+a.getBoundingClientRect().left))},A.xscroller.getNextTargetItem=function(e){var t=null,a=!1;if(null!=e){for(var n=A.utils.qsAll(".js-native-scroller--item",{parent:e,cache:!1}),i=n.length;i--;){var o=A.xscroller.isInScroller(n[i]);if(A.xscroller.isClickLeftToRight){if(o&&i==n.length-1&&!A.xscroller.isInScroller(n[0]))return A.xscroller.isLeftToRight=!1,n[0];if(o){if(o&&null!=t)return A.xscroller.isLeftToRight=!0,t}else t=n[i]}else{if(0==i&&o&&!A.xscroller.isInScroller(n[n.length-1]))return A.xscroller.isLeftToRight=!0,n[n.length-1];if(o)a=!0;else if(!o&&a)return A.xscroller.isLeftToRight=!1,n[i]}}if(!a&&n.length>0)return n[0]}return null},A.xscroller.handleNextButtonClick=function(e){e.preventDefault(),e.stopPropagation();var t=A.utils.closest(e.matchingTarget,"label");A.xscroller.isClickLeftToRight=!t.matches(":first-of-type");var a=A.utils.closest(e.matchingTarget,".js-native-scroller"),n=A.xscroller.getNextTargetItem(a);null==n||A.xscroller.isScrolling||A.xscroller.scrollIntoElement(n,!0)},A.xscroller.handleThumbnailClick=function(e){e.preventDefault(),e.stopPropagation(),A.utils.qsAll("label.js-native-scroller--item.active",{cache:!1}).forEach(function(e){e.classList.remove("active")}),e.matchingTarget.classList.add("active");var t=A.utils.qs('label[for="'+e.matchingTarget.getAttribute("for")+'"]',{parent:A.utils.qs(".scroller-bullets")});null!=t&&(t.parentElement.scrollLeft=t.offsetLeft)},A.xscroller.defaultAutoplaySettings={interval:2500,timer:null},A.xscroller.enableScrollerWhenScrollable=function(e){for(var t=A.utils.qsAll(".js-native-scroller--item",{parent:e,cache:!1}),a=t.length;a--;)if(!A.xscroller.isInScroller(t[a])){var n=A.utils.closest(t[a],".js-native-scroller");if(null!=n&&(n.classList.add("active"),A.utils.isTrue(n.dataset.autoplay))){n.classList.add("autoplay");var i=A.utils["extends"](A.xscroller.defaultAutoplaySettings,n.dataset);i.interval=parseInt(i.interval);var o={scrollerEl:n,settings:i};A.xscroller.scrollersAutoplaySettings.push(o),A.xscroller.startAutoplay(n)}break}},A.xscroller.getScrollerSettings=function(e){var t=A.xscroller.scrollersAutoplaySettings.filter(function(t){return t.scrollerEl===e});return t.length>0?t[0]:null},A.xscroller.handleScrollerMouseEvent=function(e){e.stopPropagation(),"mouseover"==e.type?A.xscroller.stopAutoplay(e.matchingTarget):"mouseout"==e.type&&A.xscroller.startAutoplay(e.matchingTarget)},A.xscroller.handleAutoplayNextButtonClick=function(e){A.xscroller.startAutoplay(A.utils.closest(e.matchingTarget,".js-native-scroller"))},A.xscroller.startAutoplay=function(e){var t=A.xscroller.getScrollerSettings(e);null!=t&&(clearTimeout(t.settings.timer),t.settings.timer=setTimeout(function(){var t=A.utils.qs(".controls label:last-child i",{parent:e});null!=t&&t.click()},t.settings.interval))},A.xscroller.stopAutoplay=function(e){var t=A.xscroller.getScrollerSettings(e);null!=t&&clearTimeout(t.settings.timer)},A.xscroller.handleDomUpdate=function(){var e=[].slice.call(A.utils.qsAll(".js-native-scroller--wrapper",{cache:!1}));[].filter.call(e,function(e){return A.xscroller.scrollers.indexOf(e)===-1}).forEach(A.xscroller.enableScrollerWhenScrollable),A.xscroller.scrollers=e},A.xscroller.initMobileFirst=function(){A.xscroller.scrollers=[].slice.call(A.utils.qsAll(".js-native-scroller--wrapper")),A.xscroller.scrollers.forEach(A.xscroller.enableScrollerWhenScrollable),A.events.add(document,"DOMUpdate",A.xscroller.handleDomUpdate),A.events.add(document,"mouseover",A.xscroller.handleScrollerMouseEvent,".js-native-scroller.autoplay"),A.events.add(document,"mouseout",A.xscroller.handleScrollerMouseEvent,".js-native-scroller.autoplay"),A.events.add(document,"click",A.xscroller.handleAutoplayNextButtonClick,".js-native-scroller.autoplay .controls label i"),A.events.add(document,"click",A.xscroller.handleNextButtonClick,".js-native-scroller .controls label i"),A.events.add(document,"click",A.xscroller.handleThumbnailClick,"label.js-native-scroller--item"),document.dispatchEvent(new CustomEvent("mobilefirst.xscrollerInitialized"))},A.module.add(["xscrollerInitialized"],A.xscroller.initMobileFirst);